YUI.add("breakout",function(c){function b(f,e,d){return Math.max(Math.min(f,d),e)}function a(d){var f=d.rows,e=d.columns;this._host=d.host;this._container=c.Node.create("<div style='position: absolute'>");this._nodes=[];if(!(f||e)){f=8}this._rows=f;this._columns=e;a.superclass.constructor.apply(this,arguments)}a.NS="breakout";a.Name="Breakout";c.extend(a,c.Plugin.Base,{_splitNode:function(){var d,i,k,j,g=Math.round(this._blockWidth),m=Math.round(this._blockHeight),q=this._rows,h=this._columns,l=this._host.getXY(),n,f=this._container,e=this._nodes=[],p,o=c.Node.create('<div style="width: '+g+"px; height: "+m+'px; position: absolute; overflow: hidden">');f.setXY(l);for(d=0;d<q;d++){e[d]=p=[];j=d*m;for(i=0;i<h;i++){k=i*g;n=this._host.cloneNode(true);p[i]=o.cloneNode().setXY([k,j]).append(n.setXY([-k,-j]));f.append(p[i])}}this._swapIn()},_swapIn:function(){this._host.get("parentNode").append(this._container);this._host.setStyle("visibility","hidden")},_setup:function(){if(this._nodes.length){return}var g=this._host,f=parseFloat(g.getComputedStyle("width")),d=parseFloat(g.getComputedStyle("height")),i,j,h=this._rows,e=this._columns;if(h){j=d/h}if(e){i=f/e}if(!h){j=i;h=d/j}if(!e){i=j;e=f/i}this._container.setStyles({width:f,height:d});this._width=f;this._height=d;this._blockWidth=i;this._blockHeight=j;this._rows=h;this._columns=e;this._splitNode()},_forEach:function(o,p){this._setup();this._swapIn();var d,l,n=this._rows,g=this._columns,p=p||{},f=Math.abs(p.random||0),j=0,h,m,i,e=this._container,k=this;p.crop&&e.setStyle("overflow","hidden");for(d=0;d<n;d++){for(l=0;l<g;l++){j++;m=this._nodes[d][l];h=o.call(this,m,d,l,n,g);i=d+l;if(p.reverse){i=n+g-i}h.animation.on("end",function(){j--;if(!j){k._container.remove();p.unhide&&k._host.setStyle("visibility","visible");p.crop&&e.setStyle("overflow","visible");k.fire("end")}});(function(q){var t=1-(Math.random()*f),r;if(p.fade){r=p.unhide?0:1;c.mix(q.animation.get("from"),{opacity:r});c.mix(q.animation.get("to"),{opacity:1-r})}else{m.setStyle("opacity",1)}setTimeout(function(){q.animation.run()},q.interval*i*t)})(h)}}},explode:function(d){d=d||{};if(!("fade" in d)){d.fade=true}var e=Math.abs(d.random||0);this._forEach(function(i,p,j,q,k){var g=(d.distance||1.5)*2,l=d.duration||1000,m=d.easing||c.Easing.easeOutStrong,h=1-(Math.random()*e),f={x:(k-1)/2,y:(q-1)/2},o={x:j-f.x,y:p-f.y},n;g*=h;n={left:(o.x*g+f.x)*this._blockWidth,top:(o.y*g+f.y)*this._blockHeight};if(d.unhide){i.setStyles(n);n={left:j*this._blockWidth,top:p*this._blockHeight}}anim=new c.Anim({node:i,easing:m,to:n,duration:l/1000});return{animation:anim,interval:0}},d)},sheer:function(e){e=e||{};var h=e.distance||1,f=e.duration||1000,d=e.interval||0,g=e.easing||c.Easing.easeIn;this._forEach(function(j,r,k,t,l){var p=!(k%2),m=!(r%2),i=this._width,q=this._height,o={left:k*this._blockWidth,top:r*this._blockHeight},n={};if(l===1){p=m}if(t===1){m=!p}if(p){if(m){n.left=o.left-h*i}else{n.top=o.top+h*q}}else{if(m){n.top=o.top-h*q}else{n.left=o.left+h*i}}if(e.unhide){n=o}anim=new c.Anim({node:j,easing:g,to:n,duration:f/1000});return{animation:anim,interval:d}},e)},pinwheel:function(d){d=d||{};var g=d.distance||1,e=d.duration||1000,f=d.easing||c.Easing.easeOut;this._forEach(function(j,r,k,t,l){var p=!(k%2),m=!(r%2),i=0,h=this._blockWidth,q=this._blockHeight,o={left:k*h,top:r*q,width:h,height:q},n={};if(p){if(m){n.top=o.top+g*q}else{n.left=o.left+g*h}}if(p===m){n.height=q*(1-g)}else{n.width=h*(1-g)}if(d.unhide){n=o}anim=new c.Anim({node:j,easing:f,to:n,duration:e/1000});return{animation:anim,interval:i}},d)},disintegrate:function(d){d=d||{};d.reverse=true;this._forEach(function(g,n,h,o,i){var e=(d.distance||1.5)*this._height,k=d.duration||1000,l=d.easing||c.Easing.easeBoth,f=k/(o+i)*2,m=n*this._blockHeight,j;if(e<0){n=o-n-1}if(d.unhide){g.setStyle("top",m-e)}else{m+=e}j=new c.Anim({node:g,easing:l,to:{top:m},duration:k/1000});return{animation:j,interval:f}},d)},fadeOut:function(d){d=d||{};d.fade=true;this._forEach(function(f,l,g,m,h){var j=d.duration||700,n=d.unhide?0:1,k=d.easing,e,i;if(!k){k=d.unhide?c.Easing.easeOut:c.Easing.easeInStrong}e=j/(m+h)*2;i=new c.Anim({node:f,easing:k,from:{},to:{},duration:j/1000});return{animation:i,interval:e}},d)},_inverse:function(e,d){d=d||{};d.unhide=true;e.call(this,d)},unsheer:function(d){this._inverse(this.sheer,d)},unpinwheel:function(d){this._inverse(this.pinwheel,d)},converge:function(d){this._inverse(this.explode,d)},fadeIn:function(d){this._inverse(this.fadeOut,d)},build:function(d){this._inverse(this.disintegrate,d)}});c.Breakout=a},"1.0",{requires:["plugin","anim"]});if(typeof YUI!="undefined"){YUI._YUI=YUI}var YUI=function(){var c=0,f=this,b=arguments,a=b.length,e=function(h,g){return(h&&h.hasOwnProperty&&(h instanceof g))},d=(typeof YUI_config!=="undefined")&&YUI_config;if(!(e(f,YUI))){f=new YUI()}else{f._init();if(YUI.GlobalConfig){f.applyConfig(YUI.GlobalConfig)}if(d){f.applyConfig(d)}if(!a){f._afterConfig();f._setup()}}if(a){for(;c<a;c++){f.applyConfig(b[c])}f._afterConfig();f._setup()}f.instanceOf=e;return f};(function(){var r,b,t="3.18.1",j=".",p="http://yui.yahooapis.com/",w="yui3-js-enabled",e="yui3-css-stamp",n=function(){},i=Array.prototype.slice,u={"io.xdrReady":1,"io.xdrResponse":1,"SWF.eventHandler":1},h=(typeof window!="undefined"),g=(h)?window:null,y=(h)?g.document:null,f=y&&y.documentElement,a=f&&f.className,c={},k=new Date().getTime(),o=function(C,B,A,z){if(C&&C.addEventListener){C.addEventListener(B,A,z)}else{if(C&&C.attachEvent){C.attachEvent("on"+B,A)}}},x=function(D,C,B,z){if(D&&D.removeEventListener){try{D.removeEventListener(C,B,z)}catch(A){}}else{if(D&&D.detachEvent){D.detachEvent("on"+C,B)}}},d=function(){YUI.Env.DOMReady=true;if(h){x(y,"DOMContentLoaded",d)}},v=function(){YUI.Env.windowLoaded=true;YUI.Env.DOMReady=true;if(h){x(window,"load",v)}},l=function(E,D){var A=E.Env._loader,C=["loader-base"],z=YUI.Env,B=z.mods;if(A){A.ignoreRegistered=false;A.onEnd=null;A.data=null;A.required=[];A.loadType=null}else{A=new E.Loader(E.config);E.Env._loader=A}if(B&&B.loader){C=[].concat(C,YUI.Env.loaderExtras)}YUI.Env.core=E.Array.dedupe([].concat(YUI.Env.core,C));return A},q=function(B,A){for(var z in A){if(A.hasOwnProperty(z)){B[z]=A[z]}}},m={success:true};if(f&&a.indexOf(w)==-1){if(a){a+=" "}a+=w;f.className=a}if(t.indexOf("@")>-1){t="3.5.0"}r={applyConfig:function(G){G=G||n;var B,E,D=this.config,F=D.modules,A=D.groups,C=D.aliases,z=this.Env._loader;for(E in G){if(G.hasOwnProperty(E)){B=G[E];if(F&&E=="modules"){q(F,B)}else{if(C&&E=="aliases"){q(C,B)}else{if(A&&E=="groups"){q(A,B)}else{if(E=="win"){D[E]=(B&&B.contentWindow)||B;D.doc=D[E]?D[E].document:null}else{if(E=="_yuid"){}else{D[E]=B}}}}}}}if(z){z._config(G)}},_config:function(z){this.applyConfig(z)},_init:function(){var C,B,D=this,z=YUI.Env,A=D.Env,E;D.version=t;if(!A){D.Env={core:["get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"],loaderExtras:["loader-rollup","loader-yui3"],mods:{},versions:{},base:p,cdn:p+t+"/",_idx:0,_used:{},_attached:{},_exported:{},_missed:[],_yidx:0,_uidx:0,_guidp:"y",_loaded:{},_BASE_RE:/(?:\?(?:[^&]*&)*([^&]*))?\b(yui(?:-\w+)?)\/\2(?:-(min|debug))?\.js/,parseBasePath:function(J,H){var F=J.match(H),I,G;if(F){I=RegExp.leftContext||J.slice(0,J.indexOf(F[0]));G=F[3];if(F[1]){I+="?"+F[1]}I={filter:G,path:I}}return I},getBase:z&&z.getBase||function(J){var H=(y&&y.getElementsByTagName("script"))||[],K=A.cdn,G,I,F,L;for(I=0,F=H.length;I<F;++I){L=H[I].src;if(L){G=D.Env.parseBasePath(L,J);if(G){C=G.filter;K=G.path;break}}}return K}};A=D.Env;A._loaded[t]={};if(z&&D!==YUI){A._yidx=++z._yidx;A._guidp=("yui_"+t+"_"+A._yidx+"_"+k).replace(/[^a-z0-9_]+/g,"_")}else{if(YUI._YUI){z=YUI._YUI.Env;A._yidx+=z._yidx;A._uidx+=z._uidx;for(E in z){if(!(E in A)){A[E]=z[E]}}delete YUI._YUI}}D.id=D.stamp(D);c[D.id]=D}D.constructor=YUI;D.config=D.config||{bootstrap:true,cacheUse:true,debug:true,doc:y,fetchCSS:true,throwFail:true,useBrowserConsole:true,useNativeES5:true,win:g};if(y&&!y.getElementById(e)){B=y.createElement("div");B.innerHTML='<div id="'+e+'" style="position: absolute !important; visibility: hidden !important"></div>';YUI.Env.cssStampEl=B.firstChild;if(y.body){y.body.appendChild(YUI.Env.cssStampEl)}else{f.insertBefore(YUI.Env.cssStampEl,f.firstChild)}}else{if(y&&y.getElementById(e)&&!YUI.Env.cssStampEl){YUI.Env.cssStampEl=y.getElementById(e)}}D.config.lang=D.config.lang||"en-US";D.config.base=YUI.config.base||(YUI.config.defaultBase&&YUI.config.root&&YUI.config.defaultBase+YUI.config.root)||D.Env.getBase(D.Env._BASE_RE);if(!C||(!("mindebug").indexOf(C))){C="min"}C=(C)?"-"+C:C;D.config.loaderPath=YUI.config.loaderPath||"loader/loader"+C+".js"},_afterConfig:function(){var z=this;if(!z.config.hasOwnProperty("global")){z.config.global=Function("return this")()}},_setup:function(){var A,E=this,z=[],C=YUI.Env.mods,D=E.config.extendedCore||[],B=E.config.core||[].concat(YUI.Env.core).concat(D);for(A=0;A<B.length;A++){if(C[B[A]]){z.push(B[A])}}E._attach(["yui-base"]);E._attach(z);if(E.Loader){l(E)}},applyTo:function(F,E,B){if(!(E in u)){this.log(E+": applyTo not allowed","warn","yui");return null}var A=c[F],D,z,C;if(A){D=E.split(".");z=A;for(C=0;C<D.length;C=C+1){z=z[D[C]];if(!z){this.log("applyTo not found: "+E,"warn","yui")}}return z&&z.apply(A,B)}return null},add:function(B,I,H,A){A=A||{};var G=YUI.Env,J={name:B,fn:I,version:H,details:A},D={},K,F,z,E,C=G.versions;G.mods[B]=J;C[H]=C[H]||{};C[H][B]=J;for(E in c){if(c.hasOwnProperty(E)){F=c[E];if(!D[F.id]){D[F.id]=true;K=F.Env._loader;if(K){z=K.getModuleInfo(B);if(!z||z.temp){K.addModule(A,B)}}}}}return this},_attach:function(J,ab){var Q,ac,aa,U,z,N,D,E=YUI.Env.mods,R=YUI.Env.aliases,A=this,O,I=YUI.Env._renderedMods,G=A.Env._loader,K=A.Env._attached,T=A.Env._exported,S=J.length,G,H,M,X=[],C,F,Z,W,P,B,L;for(Q=0;Q<S;Q++){ac=J[Q];aa=E[ac];X.push(ac);if(G&&G.conditions[ac]){for(O in G.conditions[ac]){if(G.conditions[ac].hasOwnProperty(O)){H=G.conditions[ac][O];M=H&&((H.ua&&A.UA[H.ua])||(H.test&&H.test(A)));if(M){X.push(H.name)}}}}}J=X;S=J.length;for(Q=0;Q<S;Q++){if(!K[J[Q]]){ac=J[Q];aa=E[ac];if(R&&R[ac]&&!aa){A._attach(R[ac]);continue}if(!aa){W=G&&G.getModuleInfo(ac);if(W){aa=W;ab=true}if(!ab&&ac){if((ac.indexOf("skin-")===-1)&&(ac.indexOf("css")===-1)){A.Env._missed.push(ac);A.Env._missed=A.Array.dedupe(A.Env._missed);A.message("NOT loaded: "+ac,"warn","yui")}}}else{K[ac]=true;for(O=0;O<A.Env._missed.length;O++){if(A.Env._missed[O]===ac){A.message("Found: "+ac+" (was reported as missing earlier)","warn","yui");A.Env._missed.splice(O,1)}}if(G&&!G._canBeAttached(ac)){A.log("Failed to attach module "+ac,"warn","yui");return true}if(G&&I&&I[ac]&&I[ac].temp){G.getRequires(I[ac]);z=[];W=G.getModuleInfo(ac);for(O in W.expanded_map){if(W.expanded_map.hasOwnProperty(O)){z.push(O)}}A._attach(z)}U=aa.details;z=U.requires;F=U.es;N=U.use;D=U.after;if(U.lang){z=z||[];z.unshift("intl")}if(z){Z=z.length;for(O=0;O<Z;O++){if(!K[z[O]]){if(!A._attach(z)){return false}break}}}if(D){for(O=0;O<D.length;O++){if(!K[D[O]]){if(!A._attach(D,true)){return false}break}}}if(aa.fn){C=[A,ac];if(F){L={};B={};C.push(L,B);if(z){Z=z.length;for(O=0;O<Z;O++){L[z[O]]=T.hasOwnProperty(z[O])?T[z[O]]:A}}}if(A.config.throwFail){B=aa.fn.apply(F?undefined:aa,C)}else{try{B=aa.fn.apply(F?undefined:aa,C)}catch(V){A.error("Attach error: "+ac,V,ac);return false}}if(F){T[ac]=B;P=aa.details.condition;if(P&&P.when==="instead"){T[P.trigger]=B}}}if(N){for(O=0;O<N.length;O++){if(!K[N[O]]){if(!A._attach(N)){return false}break}}}}}}return true},_delayCallback:function(z,C){var B=this,A=["event-base"];C=(B.Lang.isObject(C)?C:{event:C});if(C.event==="load"){A.push("event-synthetic")}B.log("Delaying use callback until: "+C.event,"info","yui");return function(){B.log("Use callback fired, waiting on delay","info","yui");var D=arguments;B._use(A,function(){B.log("Delayed use wrapper callback after dependencies","info","yui");B.on(C.event,function(){D[1].delayUntil=C.event;B.log("Delayed use callback done after "+C.event,"info","yui");z.apply(B,D)},C.args)})}},use:function(){var B=i.call(arguments,0),F=B[B.length-1],E=this,D=0,A,z=E.Env,C=true;if(E.Lang.isFunction(F)){B.pop();if(E.config.delayUntil){F=E._delayCallback(F,E.config.delayUntil)}}else{F=null}if(E.Lang.isArray(B[0])){B=B[0]}if(E.config.cacheUse){while((A=B[D++])){if(!z._attached[A]){C=false;break}}if(C){if(B.length){E.log("already provisioned: "+B,"info","yui")}E._notify(F,m,B);return E}}if(E._loading){E._useQueue=E._useQueue||new E.Queue();E._useQueue.add([B,F])}else{E._use(B,function(H,G){H._notify(F,G,B)})}return E},require:function(){var z=i.call(arguments),A;if(typeof z[z.length-1]==="function"){A=z.pop();z.push(function(E){var B,C=z.length,F=E.Env._exported,D={};for(B=0;B<C;B++){if(F.hasOwnProperty(z[B])){D[z[B]]=F[z[B]]}}A.call(undefined,E,D)})}this.use.apply(this,z)},_notify:function(C,z,A){if(!z.success&&this.config.loadErrorFn){this.config.loadErrorFn.call(this,this,C,z,A)}else{if(C){if(this.Env._missed&&this.Env._missed.length){z.msg="Missing modules: "+this.Env._missed.join();z.success=false}if(this.config.throwFail){C(this,z)}else{try{C(this,z)}catch(B){this.error("use callback error",B,A)}}}}},_use:function(B,D){if(!this.Array){this._attach(["yui-base"])}var Q,I,R,A=this,S=YUI.Env,C=S.mods,z=A.Env,F=z._used,P=S.aliases,M=S._loaderQueue,V=B[0],H=A.Array,T=A.config,G=T.bootstrap,N=[],O,K=[],U=true,E=T.fetchCSS,L=function(ab,ae){var Z=0,ad=[],X,aa,Y,ac,W;if(!ab.length){return}if(P){aa=ab.length;for(Z=0;Z<aa;Z++){if(P[ab[Z]]&&!C[ab[Z]]){ad=[].concat(ad,P[ab[Z]])}else{ad.push(ab[Z])}}ab=ad}aa=ab.length;for(Z=0;Z<aa;Z++){X=ab[Z];if(!ae){K.push(X)}if(F[X]){continue}Y=C[X];ac=null;W=null;if(Y){F[X]=true;ac=Y.details.requires;W=Y.details.use}else{if(!S._loaded[t][X]){N.push(X)}else{F[X]=true}}if(ac&&ac.length){L(ac)}if(W&&W.length){L(W,1)}}},J=function(aa){var Y=aa||{success:true,msg:"not dynamic"},X,W,Z=true,ab=Y.data;A._loading=false;if(ab){W=N;N=[];K=[];L(ab);X=N.length;if(X){if([].concat(N).sort().join()==W.sort().join()){X=false}}}if(X&&ab){A._loading=true;A._use(N,function(){A.log("Nested use callback: "+ab,"info","yui");if(A._attach(ab)){A._notify(D,Y,ab)}})}else{if(ab){Z=A._attach(ab)}if(Z){A._notify(D,Y,B)}}if(A._useQueue&&A._useQueue.size()&&!A._loading){A._use.apply(A,A._useQueue.next())}};if(V==="*"){B=[];for(O in C){if(C.hasOwnProperty(O)){B.push(O)}}U=A._attach(B);if(U){J()}return A}if((C.loader||C["loader-base"])&&!A.Loader){A.log("Loader was found in meta, but it is not attached. Attaching..","info","yui");A._attach(["loader"+((!C.loader)?"-base":"")])}if(G&&A.Loader&&B.length){A.log("Using loader to expand dependencies","info","yui");I=l(A);I.require(B);I.ignoreRegistered=true;I._boot=true;I.calculate(null,(E)?null:"js");B=I.sorted;I._boot=false}L(B);Q=N.length;if(Q){N=H.dedupe(N);Q=N.length;A.log("Modules missing: "+N+", "+N.length,"info","yui")}if(G&&Q&&A.Loader){A.log("Using Loader","info","yui");A._loading=true;I=l(A);I.onEnd=J;I.context=A;I.data=B;I.ignoreRegistered=false;I.require(N);I.insert(null,(E)?null:"js")}else{if(G&&Q&&A.Get&&!z.bootstrapped){A._loading=true;R=function(){A._loading=false;M.running=false;z.bootstrapped=true;S._bootstrapping=false;if(A._attach(["loader"])){A._use(B,D)}};if(S._bootstrapping){A.log("Waiting for loader","info","yui");M.add(R)}else{S._bootstrapping=true;A.log("Fetching loader: "+T.base+T.loaderPath,"info","yui");A.Get.script(T.base+T.loaderPath,{onEnd:R})}}else{A.log("Attaching available dependencies: "+B,"info","yui");U=A._attach(B);if(U){J()}}}return A},namespace:function(){var A=arguments,E,C=0,B,D,z;for(;C<A.length;C++){E=this;z=A[C];if(z.indexOf(j)>-1){D=z.split(j);for(B=(D[0]=="YAHOO")?1:0;B<D.length;B++){E[D[B]]=E[D[B]]||{};E=E[D[B]]}}else{E[z]=E[z]||{};E=E[z]}}return E},log:n,message:n,dump:function(z){return""+z},error:function(D,A,C){var B=this,z;if(B.config.errorFn){z=B.config.errorFn.apply(B,arguments)}if(!z){throw (A||new Error(D))}else{B.message(D,"error",""+C)}return B},guid:function(z){var A=this.Env._guidp+"_"+(++this.Env._uidx);return(z)?(z+A):A},stamp:function(B,C){var z;if(!B){return B}if(B.uniqueID&&B.nodeType&&B.nodeType!==9){z=B.uniqueID}else{z=(typeof B==="string")?B:B._yuid}if(!z){z=this.guid();if(!C){try{B._yuid=z}catch(A){z=null}}}return z},destroy:function(){var z=this;if(z.Event){z.Event._unload()}delete c[z.id];delete z.Env;delete z.config}};YUI.prototype=r;for(b in r){if(r.hasOwnProperty(b)){YUI[b]=r[b]}}YUI.applyConfig=function(z){if(!z){return}if(YUI.GlobalConfig){this.prototype.applyConfig.call(this,YUI.GlobalConfig)}this.prototype.applyConfig.call(this,z);YUI.GlobalConfig=this.config};YUI._init();if(h){o(y,"DOMContentLoaded",d);o(window,"load",v)}else{d();v()}YUI.Env.add=o;YUI.Env.remove=x;if(typeof exports=="object"){exports.YUI=YUI;YUI.setLoadHook=function(z){YUI._getLoadHook=z};YUI._getLoadHook=null}YUI.Env[t]={}}());YUI.add("yui-base",function(b,i){var k=b.Lang||(b.Lang={}),p=String.prototype,m=Object.prototype.toString,a={"undefined":"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},c=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,y="\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF",d="[\x09-\x0D\x20\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+",w=new RegExp("^"+d),z=new RegExp(d+"$"),u=new RegExp(w.source+"|"+z.source,"g"),f=/\{\s*\[(?:native code|function)\]\s*\}/i;k._isNative=function(B){return !!(b.config.useNativeES5&&B&&f.test(B))};k.isArray=k._isNative(Array.isArray)?Array.isArray:function(B){return k.type(B)==="array"};k.isBoolean=function(B){return typeof B==="boolean"};k.isDate=function(B){return k.type(B)==="date"&&B.toString()!=="Invalid Date"&&!isNaN(B)};k.isFunction=function(B){return k.type(B)==="function"};k.isNull=function(B){return B===null};k.isNumber=function(B){return typeof B==="number"&&isFinite(B)};k.isObject=function(D,C){var B=typeof D;return(D&&(B==="object"||(!C&&(B==="function"||k.isFunction(D)))))||false};k.isRegExp=function(B){return k.type(B)==="regexp"};k.isString=function(B){return typeof B==="string"};k.isUndefined=function(B){return typeof B==="undefined"};k.isValue=function(C){var B=k.type(C);switch(B){case"number":return isFinite(C);case"null":case"undefined":return false;default:return !!B}};k.now=Date.now||function(){return new Date().getTime()};k.sub=function(B,D){function C(G,F){var E;if(typeof G[F]!=="undefined"){return G[F]}F=F.split(".");E=F.slice(1).join(".");F=F[0];if(E&&typeof G[F]==="object"&&G[F]!==null){return C(G[F],E)}}return B.replace?B.replace(c,function(E,F){var G=F.indexOf(".")>-1?C(D,F):D[F];return typeof G==="undefined"?E:G}):B};k.trim=k._isNative(p.trim)&&!y.trim()?function(B){return B&&B.trim?B.trim():B}:function(B){try{return B.replace(u,"")}catch(C){return B}};k.trimLeft=k._isNative(p.trimLeft)&&!y.trimLeft()?function(B){return B.trimLeft()}:function(B){return B.replace(w,"")};k.trimRight=k._isNative(p.trimRight)&&!y.trimRight()?function(B){return B.trimRight()}:function(B){return B.replace(z,"")};k.type=function(B){return a[typeof B]||a[m.call(B)]||(B?"object":"null")};var g=b.Lang,t=Array.prototype,q=Object.prototype.hasOwnProperty;function l(D,G,F){var C,B;G||(G=0);if(F||l.test(D)){try{return t.slice.call(D,G)}catch(E){B=[];for(C=D.length;G<C;++G){B.push(D[G])}return B}}return[D]}b.Array=l;l.dedupe=g._isNative(Object.create)?function(G){var F=Object.create(null),D=[],C,E,B;for(C=0,B=G.length;C<B;++C){E=G[C];if(!F[E]){F[E]=1;D.push(E)}}return D}:function(G){var F={},D=[],C,E,B;for(C=0,B=G.length;C<B;++C){E=G[C];if(!q.call(F,E)){F[E]=1;D.push(E)}}return D};l.each=l.forEach=g._isNative(t.forEach)?function(D,B,C){t.forEach.call(D||[],B,C||b);return b}:function(F,D,E){for(var C=0,B=(F&&F.length)||0;C<B;++C){if(C in F){D.call(E||b,F[C],C,F)}}return b};l.hash=function(E,C){var F={},G=(C&&C.length)||0,D,B;for(D=0,B=E.length;D<B;++D){if(D in E){F[E[D]]=G>D&&D in C?C[D]:true}}return F};l.indexOf=g._isNative(t.indexOf)?function(D,B,C){return t.indexOf.call(D,B,C)}:function(E,C,D){var B=E.length;D=+D||0;D=(D>0||-1)*Math.floor(Math.abs(D));if(D<0){D+=B;if(D<0){D=0}}for(;D<B;++D){if(D in E&&E[D]===C){return D}}return -1};l.numericSort=function(C,B){return C-B};l.some=g._isNative(t.some)?function(D,B,C){return t.some.call(D,B,C)}:function(F,D,E){for(var C=0,B=F.length;C<B;++C){if(C in F&&D.call(E,F[C],C,F)){return true}}return false};l.test=function(D){var B=0;if(g.isArray(D)){B=1}else{if(g.isObject(D)){try{if("length" in D&&!D.tagName&&!(D.scrollTo&&D.document)&&!D.apply){B=2}}catch(C){}}}return B};function x(){this._init();this.add.apply(this,arguments)}x.prototype={_init:function(){this._q=[]},next:function(){return this._q.shift()},last:function(){return this._q.pop()},add:function(){this._q.push.apply(this._q,arguments);return this},size:function(){return this._q.length}};b.Queue=x;YUI.Env._loaderQueue=YUI.Env._loaderQueue||new x();var o="__",q=Object.prototype.hasOwnProperty,n=b.Lang.isObject;b.cached=function(D,B,C){B||(B={});return function(E){var F=arguments.length>1?Array.prototype.join.call(arguments,o):String(E);if(!(F in B)||(C&&B[F]==C)){B[F]=D.apply(D,arguments)}return B[F]}};b.getLocation=function(){var B=b.config.win;return B&&B.location};b.merge=function(){var E=0,C=arguments.length,B={},D,F;for(;E<C;++E){F=arguments[E];for(D in F){if(q.call(F,D)){B[D]=F[D]}}}return B};b.mix=function(B,C,I,D,F,J){var G,M,L,E,N,H,K;if(!B||!C){return B||b}if(F){if(F===2){b.mix(B.prototype,C.prototype,I,D,0,J)}L=F===1||F===3?C.prototype:C;K=F===1||F===4?B.prototype:B;if(!L||!K){return B}}else{L=C;K=B}G=I&&!J;if(D){for(E=0,H=D.length;E<H;++E){N=D[E];if(!q.call(L,N)){continue}M=G?false:N in K;if(J&&M&&n(K[N],true)&&n(L[N],true)){b.mix(K[N],L[N],I,null,0,J)}else{if(I||!M){K[N]=L[N]}}}}else{for(N in L){if(!q.call(L,N)){continue}M=G?false:N in K;if(J&&M&&n(K[N],true)&&n(L[N],true)){b.mix(K[N],L[N],I,null,0,J)}else{if(I||!M){K[N]=L[N]}}}if(b.Object._hasEnumBug){b.mix(K,L,I,b.Object._forceEnum,F,J)}}return B};var g=b.Lang,q=Object.prototype.hasOwnProperty,A,h=b.Object=g._isNative(Object.create)?function(B){return Object.create(B)}:(function(){function B(){}return function(C){B.prototype=C;return new B()}}()),e=h._forceEnum=["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"],v=h._hasEnumBug=!{valueOf:0}.propertyIsEnumerable("valueOf"),r=h._hasProtoEnumBug=(function(){}).propertyIsEnumerable("prototype"),j=h.owns=function(C,B){return !!C&&q.call(C,B)};h.hasKey=j;h.keys=g._isNative(Object.keys)&&!r?Object.keys:function(F){if(!g.isObject(F)){throw new TypeError("Object.keys called on a non-object")}var E=[],D,C,B;if(r&&typeof F==="function"){for(C in F){if(j(F,C)&&C!=="prototype"){E.push(C)}}}else{for(C in F){if(j(F,C)){E.push(C)}}}if(v){for(D=0,B=e.length;D<B;++D){C=e[D];if(j(F,C)){E.push(C)}}}return E};h.values=function(F){var E=h.keys(F),D=0,B=E.length,C=[];for(;D<B;++D){C.push(F[E[D]])}return C};h.size=function(C){try{return h.keys(C).length}catch(B){return 0}};h.hasValue=function(C,B){return b.Array.indexOf(h.values(C),B)>-1};h.each=function(E,C,F,D){var B;for(B in E){if(D||j(E,B)){C.call(F||b,E[B],B,E)}}return b};h.some=function(E,C,F,D){var B;for(B in E){if(D||j(E,B)){if(C.call(F||b,E[B],B,E)){return true}}}return false};h.getValue=function(F,E){if(!g.isObject(F)){return A}var C,D=b.Array(E),B=D.length;for(C=0;F!==A&&C<B;C++){F=F[D[C]]}return F};h.setValue=function(H,F,G){var B,E=b.Array(F),D=E.length-1,C=H;if(D>=0){for(B=0;C!==A&&B<D;B++){C=C[E[B]]}if(C!==A){C[E[B]]=G}else{return A}}return H};h.isEmpty=function(B){return !h.keys(Object(B)).length};YUI.Env.parseUA=function(H){var G=function(K){var L=0;return parseFloat(K.replace(/\./g,function(){return(L++===1)?"":"."}))},J=b.config.win,B=J&&J.navigator,E={ie:0,opera:0,gecko:0,webkit:0,safari:0,chrome:0,mobile:null,air:0,phantomjs:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,silk:0,ubuntu:0,accel:false,webos:0,caja:B&&B.cajaVersion,secure:false,os:null,nodejs:0,winjs:!!((typeof Windows!=="undefined")&&Windows.System),touchEnabled:false},C=H||B&&B.userAgent,I=J&&J.location,D=I&&I.href,F;E.userAgent=C;E.secure=D&&(D.toLowerCase().indexOf("https")===0);if(C){if((/windows|win32/i).test(C)){E.os="windows"}else{if((/macintosh|mac_powerpc/i).test(C)){E.os="macintosh"}else{if((/android/i).test(C)){E.os="android"}else{if((/symbos/i).test(C)){E.os="symbos"}else{if((/linux/i).test(C)){E.os="linux"}else{if((/rhino/i).test(C)){E.os="rhino"}}}}}}if((/KHTML/).test(C)){E.webkit=1}if((/IEMobile|XBLWP7/).test(C)){E.mobile="windows"}if((/Fennec/).test(C)){E.mobile="gecko"}F=C.match(/AppleWebKit\/([^\s]*)/);if(F&&F[1]){E.webkit=G(F[1]);E.safari=E.webkit;if(/PhantomJS/.test(C)){F=C.match(/PhantomJS\/([^\s]*)/);if(F&&F[1]){E.phantomjs=G(F[1])}}if(/ Mobile\//.test(C)||(/iPad|iPod|iPhone/).test(C)){E.mobile="Apple";F=C.match(/OS ([^\s]*)/);if(F&&F[1]){F=G(F[1].replace("_","."))}E.ios=F;E.os="ios";E.ipad=E.ipod=E.iphone=0;F=C.match(/iPad|iPod|iPhone/);if(F&&F[0]){E[F[0].toLowerCase()]=E.ios}}else{F=C.match(/NokiaN[^\/]*|webOS\/\d\.\d/);if(F){E.mobile=F[0]}if(/webOS/.test(C)){E.mobile="WebOS";F=C.match(/webOS\/([^\s]*);/);if(F&&F[1]){E.webos=G(F[1])}}if(/ Android/.test(C)){E.mobile="Android";F=C.match(/Android ([^\s]*);/);if(F&&F[1]){E.android=G(F[1])}}if(/Silk/.test(C)){F=C.match(/Silk\/([^\s]*)/);if(F&&F[1]){E.silk=G(F[1])}if(!E.android){E.android=2.34;E.os="Android"}if(/Accelerated=true/.test(C)){E.accel=true}}}F=C.match(/OPR\/(\d+\.\d+)/);if(F&&F[1]){E.opera=G(F[1])}else{F=C.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/);if(F&&F[1]&&F[2]){E.chrome=G(F[2]);E.safari=0;if(F[1]==="CrMo"){E.mobile="chrome"}}else{F=C.match(/AdobeAIR\/([^\s]*)/);if(F){E.air=F[0]}}}}F=C.match(/Ubuntu\ (\d+\.\d+)/);if(F&&F[1]){E.os="linux";E.ubuntu=G(F[1]);F=C.match(/\ WebKit\/([^\s]*)/);if(F&&F[1]){E.webkit=G(F[1])}F=C.match(/\ Chromium\/([^\s]*)/);if(F&&F[1]){E.chrome=G(F[1])}if(/ Mobile$/.test(C)){E.mobile="Ubuntu"}}if(!E.webkit){if(/Opera/.test(C)){F=C.match(/Opera[\s\/]([^\s]*)/);if(F&&F[1]){E.opera=G(F[1])}F=C.match(/Version\/([^\s]*)/);if(F&&F[1]){E.opera=G(F[1])}if(/Opera Mobi/.test(C)){E.mobile="opera";F=C.replace("Opera Mobi","").match(/Opera ([^\s]*)/);if(F&&F[1]){E.opera=G(F[1])}}F=C.match(/Opera Mini[^;]*/);if(F){E.mobile=F[0]}}else{F=C.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);if(F&&(F[1]||F[2])){E.ie=G(F[1]||F[2])}else{F=C.match(/Gecko\/([^\s]*)/);if(F){E.gecko=1;F=C.match(/rv:([^\s\)]*)/);if(F&&F[1]){E.gecko=G(F[1]);if(/Mobile|Tablet/.test(C)){E.mobile="ffos"}}}}}}}if(J&&B&&!(E.chrome&&E.chrome<6)){E.touchEnabled=(("ontouchstart" in J)||(("msMaxTouchPoints" in B)&&(B.msMaxTouchPoints>0)))}if(!H){if(typeof process==="object"){if(process.versions&&process.versions.node){E.os=process.platform;E.nodejs=G(process.versions.node)}}YUI.Env.UA=E}return E};b.UA=YUI.Env.UA||YUI.Env.parseUA();b.UA.compareVersions=function(D,C){var I,H,F,G,E,B;if(D===C){return 0}H=(D+"").split(".");G=(C+"").split(".");for(E=0,B=Math.max(H.length,G.length);E<B;++E){I=parseInt(H[E],10);F=parseInt(G[E],10);isNaN(I)&&(I=0);isNaN(F)&&(F=0);if(I<F){return -1}if(I>F){return 1}}return 0};YUI.Env.aliases={anim:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"],"anim-shape-transform":["anim-shape"],app:["app-base","app-content","app-transitions","lazy-model-list","model","model-list","model-sync-rest","model-sync-local","router","view","view-node-map"],attribute:["attribute-base","attribute-complex"],"attribute-events":["attribute-observable"],autocomplete:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"],axes:["axis-numeric","axis-category","axis-time","axis-stacked"],"axes-base":["axis-numeric-base","axis-category-base","axis-time-base","axis-stacked-base"],base:["base-base","base-pluginhost","base-build"],cache:["cache-base","cache-offline","cache-plugin"],charts:["charts-base"],collection:["array-extras","arraylist","arraylist-add","arraylist-filter","array-invoke"],color:["color-base","color-hsl","color-harmony"],controller:["router"],dataschema:["dataschema-base","dataschema-json","dataschema-xml","dataschema-array","dataschema-text"],datasource:["datasource-local","datasource-io","datasource-get","datasource-function","datasource-cache","datasource-jsonschema","datasource-xmlschema","datasource-arrayschema","datasource-textschema","datasource-polling"],datatable:["datatable-core","datatable-table","datatable-head","datatable-body","datatable-base","datatable-column-widths","datatable-message","datatable-mutable","datatable-sort","datatable-datasource"],datatype:["datatype-date","datatype-number","datatype-xml"],"datatype-date":["datatype-date-parse","datatype-date-format","datatype-date-math"],"datatype-number":["datatype-number-parse","datatype-number-format"],"datatype-xml":["datatype-xml-parse","datatype-xml-format"],dd:["dd-ddm-base","dd-ddm","dd-ddm-drop","dd-drag","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate"],dom:["dom-base","dom-screen","dom-style","selector-native","selector"],editor:["frame","editor-selection","exec-command","editor-base","editor-para","editor-br","editor-bidi","editor-tab","createlink-base"],event:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover","event-outside","event-touch","event-move","event-flick","event-valuechange","event-tap"],"event-custom":["event-custom-base","event-custom-complex"],"event-gestures":["event-flick","event-move"],handlebars:["handlebars-compiler"],highlight:["highlight-base","highlight-accentfold"],history:["history-base","history-hash","history-html5"],io:["io-base","io-xdr","io-form","io-upload-iframe","io-queue"],json:["json-parse","json-stringify"],loader:["loader-base","loader-rollup","loader-yui3"],"loader-pathogen-encoder":["loader-base","loader-rollup","loader-yui3","loader-pathogen-combohandler"],node:["node-base","node-event-delegate","node-pluginhost","node-screen","node-style"],pluginhost:["pluginhost-base","pluginhost-config"],querystring:["querystring-parse","querystring-stringify"],recordset:["recordset-base","recordset-sort","recordset-filter","recordset-indexer"],resize:["resize-base","resize-proxy","resize-constrain"],slider:["slider-base","slider-value-range","clickable-rail","range-slider"],template:["template-base","template-micro"],text:["text-accentfold","text-wordbreak"],widget:["widget-base","widget-htmlparser","widget-skin","widget-uievents"]}},"3.18.1",{use:["yui-base","get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"]});YUI.add("get",function(e,d){var c=e.Lang,b,f,a;e.Get=f={cssOptions:{attributes:{rel:"stylesheet"},doc:e.config.linkDoc||e.config.doc,pollInterval:50},jsOptions:{autopurge:true,doc:e.config.scriptDoc||e.config.doc},options:{attributes:{charset:"utf-8"},purgethreshold:20},REGEX_CSS:/\.css(?:[?;].*)?$/i,REGEX_JS:/\.js(?:[?;].*)?$/i,_insertCache:{},_pending:null,_purgeNodes:[],_queue:[],abort:function(l){var h,m,j,g,k;e.log("`Y.Get.abort()` is deprecated as of 3.5.0. Use the `abort()` method on the transaction instead.","warn","get");if(!l.abort){m=l;k=this._pending;l=null;if(k&&k.transaction.id===m){l=k.transaction;this._pending=null}else{for(h=0,g=this._queue.length;h<g;++h){j=this._queue[h].transaction;if(j.id===m){l=j;this._queue.splice(h,1);break}}}}l&&l.abort()},css:function(h,g,i){return this._load("css",h,g,i)},js:function(h,g,i){return this._load("js",h,g,i)},load:function(h,g,i){return this._load(null,h,g,i)},_autoPurge:function(g){if(g&&this._purgeNodes.length>=g){e.log("autopurge triggered after "+this._purgeNodes.length+" nodes","info","get");this._purge(this._purgeNodes)}},_getEnv:function(){var h=e.config.doc,g=e.UA;return(this._env={async:(h&&h.createElement("script").async===true)||(g.ie>=10),cssFail:g.gecko>=9||g.compareVersions(g.webkit,535.24)>=0,cssLoad:((!g.gecko&&!g.webkit)||g.gecko>=9||g.compareVersions(g.webkit,535.24)>=0)&&!(g.chrome&&g.chrome<=18),preservesScriptOrder:!!(g.gecko||g.opera||(g.ie&&g.ie>=10))})},_getTransaction:function(m,j){var n=[],k,g,l,h;if(!c.isArray(m)){m=[m]}j=e.merge(this.options,j);j.attributes=e.merge(this.options.attributes,j.attributes);for(k=0,g=m.length;k<g;++k){h=m[k];l={attributes:{}};if(typeof h==="string"){l.url=h}else{if(h.url){e.mix(l,h,false,null,0,true);h=h.url}else{e.log("URL must be a string or an object with a `url` property.","error","get");continue}}e.mix(l,j,false,null,0,true);if(!l.type){if(this.REGEX_CSS.test(h)){l.type="css"}else{if(!this.REGEX_JS.test(h)){e.log("Can't guess file type from URL. Assuming JS: "+h,"warn","get")}l.type="js"}}e.mix(l,l.type==="js"?this.jsOptions:this.cssOptions,false,null,0,true);l.attributes.id||(l.attributes.id=e.guid());if(l.win){e.log("The `win` option is deprecated as of 3.5.0. Use `doc` instead.","warn","get");l.doc=l.win.document}else{l.win=l.doc.defaultView||l.doc.parentWindow}if(l.charset){e.log("The `charset` option is deprecated as of 3.5.0. Set `attributes.charset` instead.","warn","get");l.attributes.charset=l.charset}n.push(l)}return new a(n,j)},_load:function(h,i,g,k){var j;if(typeof g==="function"){k=g;g={}}g||(g={});g.type=h;g._onFinish=f._onTransactionFinish;if(!this._env){this._getEnv()}j=this._getTransaction(i,g);this._queue.push({callback:k,transaction:j});this._next();return j},_onTransactionFinish:function(){f._pending=null;f._next()},_next:function(){var g;if(this._pending){return}g=this._queue.shift();if(g){this._pending=g;g.transaction.execute(g.callback)}},_purge:function(g){var i=this._purgeNodes,k=g!==i,h,j;while(j=g.pop()){if(!j._yuiget_finished){continue}j.parentNode&&j.parentNode.removeChild(j);if(k){h=e.Array.indexOf(i,j);if(h>-1){i.splice(h,1)}}}}};f.script=f.js;f.Transaction=a=function(i,h){var g=this;g.id=a._lastId+=1;g.data=h.data;g.errors=[];g.nodes=[];g.options=h;g.requests=i;g._callbacks=[];g._queue=[];g._reqsWaiting=0;g.tId=g.id;g.win=h.win||e.config.win};a._lastId=0;a.prototype={_state:"new",abort:function(g){this._pending=null;this._pendingCSS=null;this._pollTimer=clearTimeout(this._pollTimer);this._queue=[];this._reqsWaiting=0;this.errors.push({error:g||"Aborted"});this._finish()},execute:function(o){var j=this,n=j.requests,m=j._state,k,h,g,l;if(m==="done"){o&&o(j.errors.length?j.errors:null,j);return}else{o&&j._callbacks.push(o);if(m==="executing"){return}}j._state="executing";j._queue=g=[];if(j.options.timeout){j._timeout=setTimeout(function(){j.abort("Timeout")},j.options.timeout)}j._reqsWaiting=n.length;for(k=0,h=n.length;k<h;++k){l=n[k];if(l.async||l.type==="css"){j._insert(l)}else{g.push(l)}}j._next()},purge:function(){f._purge(this.nodes)},_createNode:function(i,h,k){var j=k.createElement(i),g,l;if(!b){l=k.createElement("div");l.setAttribute("class","a");b=l.className==="a"?{}:{"for":"htmlFor","class":"className"}}for(g in h){if(h.hasOwnProperty(g)){j.setAttribute(b[g]||g,h[g])}}return j},_finish:function(){var m=this.errors.length?this.errors:null,h=this.options,l=h.context||this,k,j,g;if(this._state==="done"){return}this._state="done";for(j=0,g=this._callbacks.length;j<g;++j){this._callbacks[j].call(l,m,this)}k=this._getEventData();if(m){if(h.onTimeout&&m[m.length-1].error==="Timeout"){h.onTimeout.call(l,k)}if(h.onFailure){h.onFailure.call(l,k)}}else{if(h.onSuccess){h.onSuccess.call(l,k)}}if(h.onEnd){h.onEnd.call(l,k)}if(h._onFinish){h._onFinish()}},_getEventData:function(g){if(g){return e.merge(this,{abort:this.abort,purge:this.purge,request:g,url:g.url,win:g.win})}else{return this}},_getInsertBefore:function(j){var k=j.doc,i=j.insertBefore,h,g;if(i){return typeof i==="string"?k.getElementById(i):i}h=f._insertCache;g=e.stamp(k);if((i=h[g])){return i}if((i=k.getElementsByTagName("base")[0])){return(h[g]=i)}i=k.head||k.getElementsByTagName("head")[0];if(i){i.appendChild(k.createTextNode(""));return(h[g]=i.lastChild)}return(h[g]=k.getElementsByTagName("script")[0])},_insert:function(p){var m=f._env,n=this._getInsertBefore(p),j=p.type==="js",i=p.node,q=this,h=e.UA,g,k;if(!i){if(j){k="script"}else{if(!m.cssLoad&&h.gecko){k="style"}else{k="link"}}i=p.node=this._createNode(k,p.attributes,p.doc)}function l(){q._progress("Failed to load "+p.url,p)}function o(){if(g){clearTimeout(g)}q._progress(null,p)}if(j){i.setAttribute("src",p.url);if(p.async){i.async=true}else{if(m.async){i.async=false}if(!m.preservesScriptOrder){this._pending=p}}}else{if(!m.cssLoad&&h.gecko){i.innerHTML=(p.attributes.charset?'@charset "'+p.attributes.charset+'";':"")+'@import "'+p.url+'";'}else{i.setAttribute("href",p.url)}}if(j&&h.ie&&(h.ie<9||(document.documentMode&&document.documentMode<9))){i.onreadystatechange=function(){if(/loaded|complete/.test(i.readyState)){i.onreadystatechange=null;o()}}}else{if(!j&&!m.cssLoad){this._poll(p)}else{if(h.ie>=10){i.onerror=function(){setTimeout(l,0)};i.onload=function(){setTimeout(o,0)}}else{i.onerror=l;i.onload=o}if(!m.cssFail&&!j){g=setTimeout(l,p.timeout||3000)}}}this.nodes.push(i);n.parentNode.insertBefore(i,n)},_next:function(){if(this._pending){return}if(this._queue.length){this._insert(this._queue.shift())}else{if(!this._reqsWaiting){this._finish()}}},_poll:function(o){var r=this,t=r._pendingCSS,m=e.UA.webkit,k,g,h,q,p,l;if(o){t||(t=r._pendingCSS=[]);t.push(o);if(r._pollTimer){return}}r._pollTimer=null;for(k=0;k<t.length;++k){p=t[k];if(m){l=p.doc.styleSheets;h=l.length;q=p.node.href;while(--h>=0){if(l[h].href===q){t.splice(k,1);k-=1;r._progress(null,p);break}}}else{try{g=!!p.node.sheet.cssRules;t.splice(k,1);k-=1;r._progress(null,p)}catch(n){}}}if(t.length){r._pollTimer=setTimeout(function(){r._poll.call(r)},r.options.pollInterval)}},_progress:function(i,h){var g=this.options;if(i){h.error=i;this.errors.push({error:i,request:h});e.log(i,"error","get")}h.node._yuiget_finished=h.finished=true;if(g.onProgress){g.onProgress.call(g.context||this,this._getEventData(h))}if(h.autopurge){f._autoPurge(this.options.purgethreshold);f._purgeNodes.push(h.node)}if(this._pending===h){this._pending=null}this._reqsWaiting-=1;this._next()}}},"3.18.1",{requires:["yui-base"]});YUI.add("features",function(c,b){var d={};c.mix(c.namespace("Features"),{tests:d,add:function(e,f,g){d[e]=d[e]||{};d[e][f]=g},all:function(f,g){var h=d[f],e=[];if(h){c.Object.each(h,function(j,i){e.push(i+":"+(c.Features.test(f,i,g)?1:0))})}return(e.length)?e.join(";"):""},test:function(f,h,g){g=g||[];var e,j,l,k=d[f],i=k&&k[h];if(!i){c.log("Feature test "+f+", "+h+" not found")}else{e=i.result;if(c.Lang.isUndefined(e)){j=i.ua;if(j){e=(c.UA[j])}l=i.test;if(l&&((!j)||e)){e=l.apply(c,g)}i.result=e}}return e}});var a=c.Features.add;a("load","0",{name:"app-transitions-native",test:function(g){var f=g.config.doc,e=f?f.documentElement:null;if(e&&e.style){return("MozTransition" in e.style||"WebkitTransition" in e.style||"transition" in e.style)}return false},trigger:"app-transitions"});a("load","1",{name:"autocomplete-list-keys",test:function(e){return !(e.UA.ios||e.UA.android)},trigger:"autocomplete-list"});a("load","2",{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"});a("load","3",{name:"dom-style-ie",test:function(k){var i=k.Features.test,j=k.Features.add,g=k.config.win,h=k.config.doc,e="documentElement",f=false;j("style","computedStyle",{test:function(){return g&&"getComputedStyle" in g}});j("style","opacity",{test:function(){return h&&"opacity" in h[e].style}});f=(!i("style","opacity")&&!i("style","computedStyle"));return f},trigger:"dom-style"});a("load","4",{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"});a("load","5",{name:"event-base-ie",test:function(f){var e=f.config.doc&&f.config.doc.implementation;return(e&&(!e.hasFeature("Events","2.0")))},trigger:"node-base"});a("load","6",{name:"graphics-canvas",test:function(i){var g=i.config.doc,h=i.config.defaultGraphicEngine&&i.config.defaultGraphicEngine=="canvas",f=g&&g.createElement("canvas"),e=(g&&g.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return(!e||h)&&(f&&f.getContext&&f.getContext("2d"))},trigger:"graphics"});a("load","7",{name:"graphics-canvas-default",test:function(i){var g=i.config.doc,h=i.config.defaultGraphicEngine&&i.config.defaultGraphicEngine=="canvas",f=g&&g.createElement("canvas"),e=(g&&g.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return(!e||h)&&(f&&f.getContext&&f.getContext("2d"))},trigger:"graphics"});a("load","8",{name:"graphics-svg",test:function(i){var h=i.config.doc,g=!i.config.defaultGraphicEngine||i.config.defaultGraphicEngine!="canvas",f=h&&h.createElement("canvas"),e=(h&&h.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return e&&(g||!f)},trigger:"graphics"});a("load","9",{name:"graphics-svg-default",test:function(i){var h=i.config.doc,g=!i.config.defaultGraphicEngine||i.config.defaultGraphicEngine!="canvas",f=h&&h.createElement("canvas"),e=(h&&h.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return e&&(g||!f)},trigger:"graphics"});a("load","10",{name:"graphics-vml",test:function(g){var f=g.config.doc,e=f&&f.createElement("canvas");return(f&&!f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!e||!e.getContext||!e.getContext("2d")))},trigger:"graphics"});a("load","11",{name:"graphics-vml-default",test:function(g){var f=g.config.doc,e=f&&f.createElement("canvas");return(f&&!f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!e||!e.getContext||!e.getContext("2d")))},trigger:"graphics"});a("load","12",{name:"history-hash-ie",test:function(f){var e=f.config.doc&&f.config.doc.documentMode;return f.UA.ie&&(!("onhashchange" in f.config.win)||!e||e<8)},trigger:"history-hash"});a("load","13",{name:"io-nodejs",trigger:"io-base",ua:"nodejs"});a("load","14",{name:"json-parse-shim",test:function(k){var h=k.config.global.JSON,g=Object.prototype.toString.call(h)==="[object JSON]"&&h,j=k.config.useNativeJSONParse!==false&&!!g;function f(l,e){return l==="ok"?true:e}if(j){try{j=(g.parse('{"ok":false}',f)).ok}catch(i){j=false}}return !j},trigger:"json-parse"});a("load","15",{name:"json-stringify-shim",test:function(j){var g=j.config.global.JSON,f=Object.prototype.toString.call(g)==="[object JSON]"&&g,i=j.config.useNativeJSONStringify!==false&&!!f;if(i){try{i=("0"===f.stringify(0))}catch(h){i=false}}return !i},trigger:"json-stringify"});a("load","16",{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"});a("load","17",{name:"selector-css2",test:function(g){var f=g.config.doc,e=f&&!("querySelectorAll" in f);return e},trigger:"selector"});a("load","18",{name:"transition-timer",test:function(h){var g=h.config.doc,f=(g)?g.documentElement:null,e=true;if(f&&f.style){e=!("MozTransition" in f.style||"WebkitTransition" in f.style||"transition" in f.style)}return e},trigger:"transition"});a("load","19",{name:"widget-base-ie",trigger:"widget-base",ua:"ie"});a("load","20",{name:"yql-jsonp",test:function(e){return(!e.UA.nodejs&&!e.UA.winjs)},trigger:"yql"});a("load","21",{name:"yql-nodejs",trigger:"yql",ua:"nodejs"});a("load","22",{name:"yql-winjs",trigger:"yql",ua:"winjs"})},"3.18.1",{requires:["yui-base"]});YUI.add("intl-base",function(c,b){var a=/[, ]/;c.mix(c.namespace("Intl"),{lookupBestLang:function(h,j){var g,k,d,f;function e(m){var l;for(l=0;l<j.length;l+=1){if(m.toLowerCase()===j[l].toLowerCase()){return j[l]}}}if(c.Lang.isString(h)){h=h.split(a)}for(g=0;g<h.length;g+=1){k=h[g];if(!k||k==="*"){continue}while(k.length>0){d=e(k);if(d){return d}else{f=k.lastIndexOf("-");if(f>=0){k=k.substring(0,f);if(f>=2&&k.charAt(f-2)==="-"){k=k.substring(0,f-2)}}else{break}}}}return""}})},"3.18.1",{requires:["yui-base"]});YUI.add("yui-log",function(e,d){var c=e,f="yui:log",a="undefined",b={debug:1,info:2,warn:4,error:8};c.log=function(j,u,g,r){var n,q,o,l,p,k,i=c,t=i.config,h=(i.fire)?i:YUI.Env.globalEvents;if(t.debug){g=g||"";if(typeof g!=="undefined"){q=t.logExclude;o=t.logInclude;if(o&&!(g in o)){n=1}else{if(o&&(g in o)){n=!o[g]}else{if(q&&(g in q)){n=q[g]}}}if((typeof u==="undefined")){u="info"}i.config.logLevel=i.config.logLevel||"debug";k=b[i.config.logLevel.toLowerCase()];if(u in b&&b[u]<k){n=1}}if(!n){if(t.useBrowserConsole){l=(g)?g+": "+j:j;if(i.Lang.isFunction(t.logFn)){t.logFn.call(i,j,u,g)}else{if(typeof console!==a&&console.log){p=(u&&console[u]&&(u in b))?u:"log";console[p](l)}else{if(typeof opera!==a){opera.postError(l)}}}}if(h&&!r){if(h===i&&(!h.getEvent(f))){h.publish(f,{broadcast:2})}h.fire(f,{msg:j,cat:u,src:g})}}}return i};c.message=function(){return c.log.apply(c,arguments)}},"3.18.1",{requires:["yui-base"]});YUI.add("yui-later",function(c,b){var a=[];c.later=function(k,g,l,h,i){k=k||0;h=(!c.Lang.isUndefined(h))?c.Array(h):a;g=g||c.config.win||c;var j=false,d=(g&&c.Lang.isString(l))?g[l]:l,e=function(){if(!j){if(!d.apply){d(h[0],h[1],h[2],h[3])}else{d.apply(g,h||a)}}},f=(i)?setInterval(e,k):setTimeout(e,k);return{id:f,interval:i,cancel:function(){j=true;if(this.interval){clearInterval(f)}else{clearTimeout(f)}}}};c.Lang.later=c.later},"3.18.1",{requires:["yui-base"]});YUI.add("loader-base",function(d,j){(function(){var K=d.version,G="/build/",H=K+"/",F=d.Env.base,C="gallery-2014.07.31-18-26",E="2in3",D="4",B="2.9.0",I=F+"combo?",J={version:K,root:H,base:d.Env.base,comboBase:I,skin:{defaultSkin:"sam",base:"assets/skins/",path:"skin.css",after:["cssreset","cssfonts","cssgrids","cssbase","cssreset-context","cssfonts-context"]},groups:{},patterns:{}},A=J.groups,z=function(M,Q,N){var L=E+"."+(M||D)+"/"+(Q||B)+G,O=(N&&N.base)?N.base:F,P=(N&&N.comboBase)?N.comboBase:I;A.yui2.base=O+L;A.yui2.root=L;A.yui2.comboBase=P},y=function(L,N){var M=(L||C)+G,O=(N&&N.base)?N.base:F,P=(N&&N.comboBase)?N.comboBase:I;A.gallery.base=O+M;A.gallery.root=M;A.gallery.comboBase=P};A[K]={};A.gallery={ext:false,combine:true,comboBase:I,update:y,patterns:{"gallery-":{},"lang/gallery-":{},"gallerycss-":{type:"css"}}};A.yui2={combine:true,ext:false,comboBase:I,update:z,patterns:{"yui2-":{configFn:function(L){if(/-skin|reset|fonts|grids|base/.test(L.name)){L.type="css";L.path=L.path.replace(/\.js/,".css");L.path=L.path.replace(/\/yui2-skin/,"/assets/skins/sam/yui2-skin")}}}}};y();z();if(YUI.Env[K]){d.mix(J,YUI.Env[K],false,["modules","groups","skin"],0,true)}YUI.Env[K]=J}());var f={},c=[],o=1024,a=YUI.Env,q=a._loaded,r="css",l="js",x="intl",i="sam",u=d.version,w="",e=d.Object,t=e.each,n=d.Array,h=a._loaderQueue,v=a[u],b="skin-",k=d.Lang,p=a.mods,m,g=function(z,A,B,y){var C=z+"/"+A;if(!y){C+="-min"}C+="."+(B||r);return C};if(!YUI.Env._cssLoaded){YUI.Env._cssLoaded={}}d.Env.meta=v;d.Loader=function(z){var y=this;z=z||{};m=v.md5;y.context=d;if(z.doBeforeLoader){z.doBeforeLoader.apply(y,arguments)}y.base=d.Env.meta.base+d.Env.meta.root;y.comboBase=d.Env.meta.comboBase;y.combine=z.base&&(z.base.indexOf(y.comboBase.substr(0,20))>-1);y.comboSep="&";y.maxURLLength=o;y.ignoreRegistered=z.ignoreRegistered;y.root=d.Env.meta.root;y.timeout=0;y.forceMap={};y.allowRollup=false;y.filters={};y.required={};y.patterns={};y.moduleInfo={};y.groups=d.merge(d.Env.meta.groups);y.skin=d.merge(d.Env.meta.skin);y.conditions={};y.config=z;y._internal=true;y._populateConditionsCache();y.loaded=q[u];y.async=true;y._inspectPage();y._internal=false;y._config(z);y.forceMap=(y.force)?d.Array.hash(y.force):{};y.testresults=null;if(d.config.tests){y.testresults=d.config.tests}y.sorted=[];y.dirty=true;y.inserted={};y.skipped={};y.tested={};if(y.ignoreRegistered){y._resetModules()}};d.Loader.prototype={getModuleInfo:function(C){var y=this.moduleInfo[C],B,D,z,A;if(y){return y}B=v.modules;D=a._renderedMods;z=this._internal;if(D&&D.hasOwnProperty(C)&&!this.ignoreRegistered){this.moduleInfo[C]=d.merge(D[C])}else{if(B.hasOwnProperty(C)){this._internal=true;A=this.addModule(B[C],C);if(A&&A.type===r){if(this.isCSSLoaded(A.name,true)){d.log("Found CSS module on page: "+A.name,"info","loader");this.loaded[A.name]=true}}this._internal=z}}return this.moduleInfo[C]},_expandAliases:function(C){var z=[],y=YUI.Env.aliases,B,A;C=d.Array(C);for(B=0;B<C.length;B+=1){A=C[B];z.push.apply(z,y[A]?y[A]:[A])}return z},_populateConditionsCache:function(){var B=v.modules,y=a._conditions,D,A,C,z;if(y&&!this.ignoreRegistered){for(D in y){if(y.hasOwnProperty(D)){this.conditions[D]=d.merge(y[D])}}}else{for(D in B){if(B.hasOwnProperty(D)&&B[D].condition){C=this._expandAliases(B[D].condition.trigger);for(A=0;A<C.length;A+=1){z=C[A];this.conditions[z]=this.conditions[z]||{};this.conditions[z][B[D].name||D]=B[D].condition}}}a._conditions=this.conditions}},_resetModules:function(){var y=this,C,D,B,z,A;for(C in y.moduleInfo){if(y.moduleInfo.hasOwnProperty(C)&&y.moduleInfo[C]){B=y.moduleInfo[C];z=B.name;A=(YUI.Env.mods[z]?YUI.Env.mods[z].details:null);if(A){y.moduleInfo[z]._reset=true;y.moduleInfo[z].requires=A.requires||[];y.moduleInfo[z].optional=A.optional||[];y.moduleInfo[z].supersedes=A.supercedes||[]}if(B.defaults){for(D in B.defaults){if(B.defaults.hasOwnProperty(D)){if(B[D]){B[D]=B.defaults[D]}}}}B.langCache=undefined;B.skinCache=undefined;if(B.skinnable){y._addSkin(y.skin.defaultSkin,B.name)}}}},REGEX_CSS:/\.css(?:[?;].*)?$/i,FILTER_DEFS:{RAW:{searchExp:"-min\\.js",replaceStr:".js"},DEBUG:{searchExp:"-min\\.js",replaceStr:"-debug.js"},COVERAGE:{searchExp:"-min\\.js",replaceStr:"-coverage.js"}},_inspectPage:function(){var A=this,z,y,D,C,B;for(B in p){if(p.hasOwnProperty(B)){z=p[B];if(z.details){y=A.getModuleInfo(z.name);D=z.details.requires;C=y&&y.requires;if(y){if(!y._inspected&&D&&C.length!==D.length){delete y.expanded}}else{y=A.addModule(z.details,B)}y._inspected=true}}}},_requires:function(E,D){var B,F,A,C,z=this.getModuleInfo(E),y=this.getModuleInfo(D);if(!z||!y){return false}F=z.expanded_map;A=z.after_map;if(A&&(D in A)){return true}A=y.after_map;if(A&&(E in A)){return false}C=y.supersedes;if(C){for(B=0;B<C.length;B++){if(this._requires(E,C[B])){return true}}}C=z.supersedes;if(C){for(B=0;B<C.length;B++){if(this._requires(D,C[B])){return false}}}if(F&&(D in F)){return true}if(z.ext&&z.type===r&&!y.ext&&y.type===r){return true}return false},_config:function(z){var C,B,A,F,D,G,J,I=this,H=[],E,y;if(z){for(C in z){if(z.hasOwnProperty(C)){A=z[C];if(C==="require"){I.require(A)}else{if(C==="skin"){if(typeof A==="string"){I.skin.defaultSkin=z.skin;A={defaultSkin:A}}d.mix(I.skin,A,true)}else{if(C==="groups"){for(B in A){if(A.hasOwnProperty(B)){J=B;G=A[B];I.addGroup(G,J);if(G.aliases){for(F in G.aliases){if(G.aliases.hasOwnProperty(F)){I.addAlias(G.aliases[F],F)}}}}}}else{if(C==="modules"){for(B in A){if(A.hasOwnProperty(B)){I.addModule(A[B],B)}}}else{if(C==="aliases"){for(B in A){if(A.hasOwnProperty(B)){I.addAlias(A[B],B)}}}else{if(C==="gallery"){if(this.groups.gallery.update){this.groups.gallery.update(A,z)}}else{if(C==="yui2"||C==="2in3"){if(this.groups.yui2.update){this.groups.yui2.update(z["2in3"],z.yui2,z)}}else{I[C]=A}}}}}}}}}}D=I.filter;if(k.isString(D)){D=D.toUpperCase();I.filterName=D;I.filter=I.FILTER_DEFS[D];if(D==="DEBUG"){I.require("yui-log","dump")}}if(I.filterName&&I.coverage){if(I.filterName==="COVERAGE"&&k.isArray(I.coverage)&&I.coverage.length){for(C=0;C<I.coverage.length;C++){E=I.coverage[C];y=I.getModuleInfo(E);if(y&&y.use){H=H.concat(y.use)}else{H.push(E)}}I.filters=I.filters||{};d.Array.each(H,function(K){I.filters[K]=I.FILTER_DEFS.COVERAGE});I.filterName="RAW";I.filter=I.FILTER_DEFS[I.filterName]}}},formatSkin:function(A,y){var z=b+A;if(y){z=z+"-"+y}return z},_addSkin:function(G,E,F){var C,z,y,A=this.skin,D=E&&this.getModuleInfo(E),B=D&&D.ext;if(E){z=this.formatSkin(G,E);if(!this.getModuleInfo(z)){C=D.pkg||E;y={skin:true,name:z,group:D.group,type:"css",after:A.after,path:(F||C)+"/"+A.base+G+"/"+E+".css",ext:B};if(D.base){y.base=D.base}if(D.configFn){y.configFn=D.configFn}this.addModule(y,z);d.log("Adding skin ("+z+"), "+F+", "+C+", "+y.path,"info","loader")}}return z},addAlias:function(y,z){YUI.Env.aliases[z]=y;this.addModule({name:z,use:y})},addGroup:function(E,B){var D=E.modules,A=this,y=E.defaultBase||d.config.defaultBase,C,z;B=B||E.name;E.name=B;A.groups[B]=E;if(!E.base&&y&&E.root){E.base=y+E.root}if(E.patterns){for(C in E.patterns){if(E.patterns.hasOwnProperty(C)){E.patterns[C].group=B;A.patterns[C]=E.patterns[C]}}}if(D){for(C in D){if(D.hasOwnProperty(C)){z=D[C];if(typeof z==="string"){z={name:C,fullpath:z}}z.group=B;A.addModule(z,C)}}}},addModule:function(P,Y){Y=Y||P.name;if(typeof P==="string"){P={name:Y,fullpath:P}}var T,S,Q,J,y,K,A,O,z,R,L,H,E,C,B,X,W,I,D,F,U,N,V=this.moduleInfo[Y],G=this.conditions,M;if(V&&V.temp){P=d.merge(V,P)}P.name=Y;if(!P||!P.name){return null}if(!P.type){P.type=l;N=P.path||P.fullpath;if(N&&this.REGEX_CSS.test(N)){d.log("Auto determined module type as CSS","warn","loader");P.type=r}}if(!P.path&&!P.fullpath){P.path=g(Y,Y,P.type)}P.supersedes=P.supersedes||P.use;P.ext=("ext" in P)?P.ext:(this._internal)?false:true;T=P.submodules;this.moduleInfo[Y]=P;P.requires=P.requires||[];if(this.requires){for(S=0;S<this.requires.length;S++){P.requires.push(this.requires[S])}}if(P.group&&this.groups&&this.groups[P.group]){U=this.groups[P.group];if(U.requires){for(S=0;S<U.requires.length;S++){P.requires.push(U.requires[S])}}}if(!P.defaults){P.defaults={requires:P.requires?[].concat(P.requires):null,supersedes:P.supersedes?[].concat(P.supersedes):null,optional:P.optional?[].concat(P.optional):null}}if(P.skinnable&&P.ext&&P.temp){D=this._addSkin(this.skin.defaultSkin,Y);P.requires.unshift(D)}if(P.requires.length){P.requires=this.filterRequires(P.requires)||[]}if(!P.langPack&&P.lang){L=n(P.lang);for(R=0;R<L.length;R++){X=L[R];H=this.getLangPackName(X,Y);A=this.getModuleInfo(H);if(!A){A=this._addLangPack(X,P,H)}}}if(T){y=P.supersedes||[];Q=0;for(S in T){if(T.hasOwnProperty(S)){K=T[S];K.path=K.path||g(Y,S,P.type);K.pkg=Y;K.group=P.group;if(K.supersedes){y=y.concat(K.supersedes)}A=this.addModule(K,S);y.push(S);if(A.skinnable){P.skinnable=true;I=this.skin.overrides;if(I&&I[S]){for(R=0;R<I[S].length;R++){D=this._addSkin(I[S][R],S,Y);y.push(D)}}D=this._addSkin(this.skin.defaultSkin,S,Y);y.push(D)}if(K.lang&&K.lang.length){L=n(K.lang);for(R=0;R<L.length;R++){X=L[R];H=this.getLangPackName(X,Y);E=this.getLangPackName(X,S);A=this.getModuleInfo(H);if(!A){A=this._addLangPack(X,P,H)}C=C||n.hash(A.supersedes);if(!(E in C)){A.supersedes.push(E)}P.lang=P.lang||[];B=B||n.hash(P.lang);if(!(X in B)){P.lang.push(X)}H=this.getLangPackName(w,Y);E=this.getLangPackName(w,S);A=this.getModuleInfo(H);if(!A){A=this._addLangPack(X,P,H)}if(!(E in C)){A.supersedes.push(E)}}}Q++}}P.supersedes=n.dedupe(y);if(this.allowRollup){P.rollup=(Q<4)?Q:Math.min(Q-1,4)}}O=P.plugins;if(O){for(S in O){if(O.hasOwnProperty(S)){z=O[S];z.pkg=Y;z.path=z.path||g(Y,S,P.type);z.requires=z.requires||[];z.group=P.group;this.addModule(z,S);if(P.skinnable){this._addSkin(this.skin.defaultSkin,S,Y)}}}}if(P.condition){J=this._expandAliases(P.condition.trigger);for(S=0;S<J.length;S++){M=J[S];F=P.condition.when;G[M]=G[M]||{};G[M][Y]=P.condition;if(F&&F!=="after"){if(F==="instead"){P.supersedes=P.supersedes||[];P.supersedes.push(M)}}else{P.after=P.after||[];P.after.push(M)}}}if(P.supersedes){P.supersedes=this.filterRequires(P.supersedes)}if(P.after){P.after=this.filterRequires(P.after);P.after_map=n.hash(P.after)}if(P.configFn){W=P.configFn(P);if(W===false){d.log("Config function returned false for "+Y+", skipping.","info","loader");delete this.moduleInfo[Y];delete a._renderedMods[Y];P=null}}if(P){if(!a._renderedMods){a._renderedMods={}}a._renderedMods[Y]=d.mix(a._renderedMods[Y]||{},P);a._conditions=G}return P},require:function(z){var y=(typeof z==="string")?n(arguments):z;this.dirty=true;this.required=d.merge(this.required,n.hash(this.filterRequires(y)));this._explodeRollups()},_explodeRollups:function(){var G=this,z,F,B,D,E,C,A,y=G.required;if(!G.allowRollup){for(B in y){if(y.hasOwnProperty(B)){z=G.getModule(B);if(z&&z.use){C=z.use.length;for(D=0;D<C;D++){F=G.getModule(z.use[D]);if(F&&F.use){A=F.use.length;for(E=0;E<A;E++){y[F.use[E]]=true}}else{y[z.use[D]]=true}}}}}G.required=y}},filterRequires:function(B){if(B){if(!d.Lang.isArray(B)){B=[B]}B=d.Array(B);var D=[],A,z,C,y;for(A=0;A<B.length;A++){z=this.getModule(B[A]);if(z&&z.use){for(C=0;C<z.use.length;C++){y=this.getModule(z.use[C]);if(y&&y.use&&(y.name!==z.name)){D=d.Array.dedupe([].concat(D,this.filterRequires(y.use)))}else{D.push(z.use[C])}}}else{D.push(B[A])}}B=D}return B},_canBeAttached:function(y){y=this.getModule(y);if(y&&y.test){if(!y.hasOwnProperty("_testResult")){y._testResult=y.test(d)}return y._testResult}return true},getRequires:function(V){if(!V){return c}if(V._parsed){return V.expanded||c}var Q,M,P,A,I,G,X,E=this.testresults,Y=V.name,F,W=p[Y]&&p[Y].details,B=V.optionalRequires,S,N,H,J,R,K,D,T,U,C,L=V.lang||V.intl,O=d.Features&&d.Features.tests.load,y,z;if(V.temp&&W){R=V;V=this.addModule(W,Y);V.group=R.group;V.pkg=R.pkg;delete V.expanded}z=!((!this.lang||V.langCache===this.lang)&&(V.skinCache===this.skin.defaultSkin));if(V.expanded&&!z){return V.expanded}if(B){for(Q=0,A=B.length;Q<A;Q++){if(this._canBeAttached(B[Q])){V.requires.push(B[Q])}}}S=[];y={};J=this.filterRequires(V.requires);if(V.lang){S.unshift("intl");J.unshift("intl");L=true}K=this.filterRequires(V.optional);V._parsed=true;V.langCache=this.lang;V.skinCache=this.skin.defaultSkin;for(Q=0;Q<J.length;Q++){if(!y[J[Q]]){S.push(J[Q]);y[J[Q]]=true;M=this.getModule(J[Q]);if(M){I=this.getRequires(M);L=L||(M.expanded_map&&(x in M.expanded_map));for(P=0;P<I.length;P++){S.push(I[P])}}}}J=this.filterRequires(V.supersedes);if(J){for(Q=0;Q<J.length;Q++){if(!y[J[Q]]){if(V.submodules){S.push(J[Q])}y[J[Q]]=true;M=this.getModule(J[Q]);if(M){I=this.getRequires(M);L=L||(M.expanded_map&&(x in M.expanded_map));for(P=0;P<I.length;P++){S.push(I[P])}}}}}if(K&&this.loadOptional){for(Q=0;Q<K.length;Q++){if(!y[K[Q]]){S.push(K[Q]);y[K[Q]]=true;M=this.getModuleInfo(K[Q]);if(M){I=this.getRequires(M);L=L||(M.expanded_map&&(x in M.expanded_map));for(P=0;P<I.length;P++){S.push(I[P])}}}}}F=this.conditions[Y];if(F){V._parsed=false;if(E&&O){t(E,function(Z,ab){var aa=O[ab].name;if(!y[aa]&&O[ab].trigger===Y){if(Z&&O[ab]){y[aa]=true;S.push(aa)}}})}else{for(Q in F){if(F.hasOwnProperty(Q)){if(!y[Q]){H=F[Q];N=H&&((!H.ua&&!H.test)||(H.ua&&d.UA[H.ua])||(H.test&&H.test(d,J)));if(N){y[Q]=true;S.push(Q);M=this.getModule(Q);if(M){I=this.getRequires(M);for(P=0;P<I.length;P++){S.push(I[P])}}}}}}}}if(V.skinnable){T=this.skin.overrides;for(Q in YUI.Env.aliases){if(YUI.Env.aliases.hasOwnProperty(Q)){if(d.Array.indexOf(YUI.Env.aliases[Q],Y)>-1){U=Q}}}if(T&&(T[Y]||(U&&T[U]))){C=Y;if(T[U]){C=U}for(Q=0;Q<T[C].length;Q++){D=this._addSkin(T[C][Q],Y);if(!this.isCSSLoaded(D,this._boot)){S.push(D)}}}else{D=this._addSkin(this.skin.defaultSkin,Y);if(!this.isCSSLoaded(D,this._boot)){S.push(D)}}}V._parsed=false;if(L){if(V.lang&&!V.langPack&&d.Intl){X=d.Intl.lookupBestLang(this.lang||w,V.lang);G=this.getLangPackName(X,Y);if(G){S.unshift(G)}}S.unshift(x)}V.expanded_map=n.hash(S);V.expanded=e.keys(V.expanded_map);return V.expanded},isCSSLoaded:function(z,D){if(!z||!YUI.Env.cssStampEl||(!D&&this.ignoreRegistered)){d.log("isCSSLoaded was skipped for "+z,"warn","loader");return false}var C=YUI.Env.cssStampEl,y=false,A=YUI.Env._cssLoaded[z],B=C.currentStyle;if(A!==undefined){return A}C.className=z;if(!B){B=d.config.doc.defaultView.getComputedStyle(C,null)}if(B&&B.display==="none"){y=true}d.log("Has Skin? "+z+" : "+y,"info","loader");C.className="";YUI.Env._cssLoaded[z]=y;return y},getProvides:function(z){var y=this.getModule(z),B,A;if(!y){return f}if(y&&!y.provides){B={};A=y.supersedes;if(A){n.each(A,function(C){d.mix(B,this.getProvides(C))},this)}B[z]=true;y.provides=B}return y.provides},calculate:function(z,y){if(z||y||this.dirty){if(z){this._config(z)}if(!this._init){this._setup()}this._explode();if(this.allowRollup){this._rollup()}else{this._explodeRollups()}this._reduce();this._sort()}},_addLangPack:function(E,y,D){var B=y.name,z,A,C=this.getModuleInfo(D);if(!C){z=g((y.pkg||B),D,l,true);A={path:z,intl:true,langPack:true,ext:y.ext,group:y.group,supersedes:[]};if(y.root){A.root=y.root}if(y.base){A.base=y.base}if(y.configFn){A.configFn=y.configFn}this.addModule(A,D);if(E){d.Env.lang=d.Env.lang||{};d.Env.lang[E]=d.Env.lang[E]||{};d.Env.lang[E][B]=true}}return this.getModuleInfo(D)},_setup:function(){var E=this.moduleInfo,B,C,A,y,z,D;for(B in E){if(E.hasOwnProperty(B)){y=E[B];if(y){y.requires=n.dedupe(y.requires);if(y.lang){D=this.getLangPackName(w,B);this._addLangPack(null,y,D)}}}}z={};if(!this.ignoreRegistered){d.mix(z,a.mods)}if(this.ignore){d.mix(z,n.hash(this.ignore))}for(A in z){if(z.hasOwnProperty(A)){d.mix(z,this.getProvides(A))}}if(this.force){for(C=0;C<this.force.length;C++){if(this.force[C] in z){delete z[this.force[C]]}}}d.mix(this.loaded,z);this._init=true},getLangPackName:function(z,y){return("lang/"+y+((z)?"_"+z:""))},_explode:function(){var E=this.required,y,B,z={},A=this,C,D;A.dirty=false;A._explodeRollups();E=A.required;for(C in E){if(E.hasOwnProperty(C)){if(!z[C]){z[C]=true;y=A.getModule(C);if(y){D=y.expound;if(D){E[D]=A.getModule(D);B=A.getRequires(E[D]);d.mix(E,n.hash(B))}B=A.getRequires(y);d.mix(E,n.hash(B))}}}}},_patternTest:function(z,y){return(z.indexOf(y)>-1)},getModule:function(D){if(!D){return null}var C,B,z,y=this.getModuleInfo(D),A=this.patterns;if(!y||(y&&y.ext)){for(z in A){if(A.hasOwnProperty(z)){C=A[z];if(!C.test){C.test=this._patternTest}if(C.test(D,z)){B=C;break}}}}if(!y){if(B){if(C.action){C.action.call(this,D,z)}else{d.log("Undefined module: "+D+", matched a pattern: "+z,"info","loader");y=this.addModule(d.merge(B,{test:void 0,temp:true}),D);if(y&&B.configFn){y.configFn=B.configFn}}}}else{if(B&&y&&B.configFn&&!y.configFn){y.configFn=B.configFn;y.configFn(y)}}return y},_rollup:function(){},_reduce:function(D){D=D||this.required;var A,z,C,y,B=this.loadType,E=this.ignore?n.hash(this.ignore):false;for(A in D){if(D.hasOwnProperty(A)){y=this.getModule(A);if(((this.loaded[A]||p[A])&&!this.forceMap[A]&&!this.ignoreRegistered)||(B&&y&&y.type!==B)){delete D[A]}if(E&&E[A]){delete D[A]}C=y&&y.supersedes;if(C){for(z=0;z<C.length;z++){if(C[z] in D){delete D[C[z]]}}}}}return D},_finish:function(A,z){d.log("loader finishing: "+A+", "+d.id+", "+this.data,"info","loader");h.running=false;var y=this.onEnd;if(y){y.call(this.context,{msg:A,data:this.data,success:z})}this._continue()},_onSuccess:function(){var G=this,C=d.merge(G.skipped),E,B=[],z=G.requireRegistration,F,y,A,D;for(A in C){if(C.hasOwnProperty(A)){delete G.inserted[A]}}G.skipped={};for(A in G.inserted){if(G.inserted.hasOwnProperty(A)){D=G.getModule(A);if(D&&z&&D.type===l&&!(A in YUI.Env.mods)){B.push(A)}else{d.mix(G.loaded,G.getProvides(A))}}}E=G.onSuccess;y=(B.length)?"notregistered":"success";F=!(B.length);if(E){E.call(G.context,{msg:y,data:G.data,success:F,failed:B,skipped:C})}G._finish(y,F)},_onProgress:function(A){var y=this,z;if(A.data&&A.data.length){for(z=0;z<A.data.length;z++){A.data[z]=y.getModule(A.data[z].name)}}if(y.onProgress){y.onProgress.call(y.context,{name:A.url,data:A.data})}},_onFailure:function(C){var A=this.onFailure,B=[],z=0,y=C.errors.length;for(z;z<y;z++){B.push(C.errors[z].error)}B=B.join(",");d.log("load error: "+B+", "+d.id,"error","loader");if(A){A.call(this.context,{msg:B,data:this.data,success:false})}this._finish(B,false)},_onTimeout:function(z){d.log("loader timeout: "+d.id,"error","loader");var y=this.onTimeout;if(y){y.call(this.context,{msg:"timeout",data:this.data,success:false,transaction:z})}},_sort:function(){var z,A=this.required,y={};this.sorted=[];for(z in A){if(!y[z]&&A.hasOwnProperty(z)){this._visit(z,y)}}},_visit:function(y,H){var F,B,z,C,G,A,I,E,D;H[y]=true;F=this.required;z=this.moduleInfo[y];B=this.conditions[y]||{};if(z){G=z.expanded||z.requires;for(E=0,D=G.length;E<D;++E){C=G[E];A=B[C];I=A&&(!A.when||A.when==="after");if(F[C]&&!H[C]&&!I){this._visit(C,H)}}}this.sorted.push(y)},_insert:function(y,B,F,A){d.log("private _insert() "+(F||"")+", "+d.id,"info","loader");if(y){this._config(y)}var C=this.resolve(!A),I=this,E=0,D=0,H={},G,z;I._refetch=[];if(F){C[((F===l)?r:l)]=[]}if(!I.fetchCSS){C.css=[]}if(C.js.length){E++}if(C.css.length){E++}z=function(Q){D++;var J={},M=0,P=0,L="",N,O,K;if(Q&&Q.errors){for(M=0;M<Q.errors.length;M++){if(Q.errors[M].request){L=Q.errors[M].request.url}else{L=Q.errors[M]}J[L]=L}}if(Q&&Q.data&&Q.data.length&&(Q.type==="success")){for(M=0;M<Q.data.length;M++){I.inserted[Q.data[M].name]=true;if(Q.data[M].lang||Q.data[M].skinnable){delete I.inserted[Q.data[M].name];I._refetch.push(Q.data[M].name)}}}if(D===E){I._loading=null;d.log("Loader actions complete!","info","loader");if(I._refetch.length){d.log("Found potential modules to refetch","info","loader");for(M=0;M<I._refetch.length;M++){G=I.getRequires(I.getModule(I._refetch[M]));for(P=0;P<G.length;P++){if(!I.inserted[G[P]]){H[G[P]]=G[P]}}}H=d.Object.keys(H);if(H.length){d.log("Refetching modules with new meta-data","info","loader");I.require(H);K=I.resolve(true);if(K.cssMods.length){for(M=0;M<K.cssMods.length;M++){O=K.cssMods[M].name;delete YUI.Env._cssLoaded[O];if(I.isCSSLoaded(O)){I.inserted[O]=true;delete I.required[O]}}I.sorted=[];I._sort()}Q=null;I._insert()}}if(Q&&Q.fn){d.log("Firing final Loader callback!","info","loader");N=Q.fn;delete Q.fn;N.call(I,Q)}}};this._loading=true;if(!C.js.length&&!C.css.length){d.log("No modules resolved..","warn","loader");D=-1;z({fn:I._onSuccess});return}if(C.css.length){d.log("Loading CSS modules","info","loader");d.Get.css(C.css,{data:C.cssMods,attributes:I.cssAttributes,insertBefore:I.insertBefore,charset:I.charset,timeout:I.timeout,context:I,onProgress:function(J){I._onProgress.call(I,J)},onTimeout:function(J){I._onTimeout.call(I,J)},onSuccess:function(J){J.type="success";J.fn=I._onSuccess;z.call(I,J)},onFailure:function(J){J.type="failure";J.fn=I._onFailure;z.call(I,J)}})}if(C.js.length){d.log("Loading JS modules","info","loader");d.Get.js(C.js,{data:C.jsMods,insertBefore:I.insertBefore,attributes:I.jsAttributes,charset:I.charset,timeout:I.timeout,autopurge:false,context:I,async:I.async,onProgress:function(J){I._onProgress.call(I,J)},onTimeout:function(J){I._onTimeout.call(I,J)},onSuccess:function(J){J.type="success";J.fn=I._onSuccess;z.call(I,J)},onFailure:function(J){J.type="failure";J.fn=I._onFailure;z.call(I,J)}})}},_continue:function(){if(!(h.running)&&h.size()>0){h.running=true;h.next()()}},insert:function(B,z,A){d.log("public insert() "+(z||"")+", "+d.Object.keys(this.required),"info","loader");var y=this,C=d.merge(this);delete C.require;delete C.dirty;h.add(function(){y._insert(C,B,z,A)});this._continue()},loadNext:function(){d.log("loadNext was called..","error","loader");return},_filter:function(A,z,D){var C=this.filter,y=z&&(z in this.filters),B=y&&this.filters[z],E=D||(this.getModuleInfo(z)||{}).group||null;if(E&&this.groups[E]&&this.groups[E].filter){B=this.groups[E].filter;y=true}if(A){if(y){C=(k.isString(B))?this.FILTER_DEFS[B.toUpperCase()]||null:B}if(C){A=A.replace(new RegExp(C.searchExp,"g"),C.replaceStr)}}return A},_url:function(A,y,z){return this._filter((z||this.base||"")+A,y)},resolve:function(C,F){var N=this,L={js:[],jsMods:[],css:[],cssMods:[]},y,H=d.config.comboLoader&&d.config.customComboBase;if(N.skin.overrides||N.skin.defaultSkin!==i||N.ignoreRegistered){N._resetModules()}if(C){N.calculate()}F=F||N.sorted;y=function(Q){if(Q){var R=(Q.group&&N.groups[Q.group])||f,P;if(R.async===false){Q.async=R.async}P=(Q.fullpath)?N._filter(Q.fullpath,Q.name):N._url(Q.path,Q.name,R.base||Q.base);if(Q.attributes||Q.async===false){P={url:P,async:Q.async};if(Q.attributes){P.attributes=Q.attributes}}L[Q.type].push(P);L[Q.type+"Mods"].push(Q)}else{d.log("Undefined Module","warn","loader")}};var B=(N.ignoreRegistered)?{}:N.inserted,A,M,I,O,z,K,G,E,D,J=false;for(D=0,E=F.length;D<E;D++){G=N.getModule(F[D]);if(!G||B[G.name]){continue}K=N.groups[G.group];O=N.comboBase;if(K){if(!K.combine||G.fullpath){y(G);continue}G.combine=true;if(typeof K.root==="string"){G.root=K.root}O=K.comboBase||O;z=K.comboSep;M=K.maxURLLength}else{if(!N.combine){y(G);continue}}if(!G.combine&&G.ext){y(G);continue}J=true;A=A||{};A[O]=A[O]||{js:[],jsMods:[],css:[],cssMods:[]};I=A[O];I.group=G.group;I.comboSep=z||N.comboSep;I.maxURLLength=M||N.maxURLLength;I[G.type+"Mods"].push(G);if(G.type===l||G.type===r){L[G.type+"Mods"].push(G)}}if(J){if(H){L=this._pathogenEncodeComboSources(L)}else{L=this._encodeComboSources(L,A)}}return L},_encodeComboSources:function(K,D){var A,B,z,y,G,N,H,I,L,O,J,C,E,F,M=this;for(O in D){if(D.hasOwnProperty(O)){J=D[O];C=J.comboSep;L=J.maxURLLength;d.log("Using maxURLLength of "+L,"info","loader");for(H in J){if(H===l||H===r){B=J[H+"Mods"];G=[];for(E=0,F=B.length;E<F;E+=1){I=B[E];N=((typeof I.root==="string")?I.root:M.root)+(I.path||I.fullpath);G.push(M._filter(N,I.name))}z=O+G.join(C);y=z.length;if(L<=O.length){d.log("maxURLLength ("+L+") is lower than the comboBase length ("+O.length+"), resetting to default ("+o+")","error","loader");L=o}if(G.length){if(y>L){d.log("Exceeded maxURLLength ("+L+") for "+H+", splitting","info","loader");A=[];for(E=0,F=G.length;E<F;E++){A.push(G[E]);z=O+A.join(C);if(z.length>L){N=A.pop();z=O+A.join(C);K[H].push(M._filter(z,null,J.group));A=[];if(N){A.push(N)}}}if(A.length){z=O+A.join(C);K[H].push(M._filter(z,null,J.group))}}else{K[H].push(M._filter(z,null,J.group))}}}}}}return K},load:function(y){if(!y){d.log("No callback supplied to load()","error","loader");return}var z=this,A=z.resolve(true);z.data=A;z.onEnd=function(){y.apply(z.context||z,arguments)};z.insert()}}},"3.18.1",{requires:["get","features"]});YUI.add("loader-rollup",function(b,a){b.Loader.prototype._rollup=function(){var l,k,h,p,d=this.required,f,g=this.moduleInfo,e,n,o;if(this.dirty||!this.rollups){this.rollups={};for(l in g){if(g.hasOwnProperty(l)){h=this.getModule(l);if(h&&h.rollup){this.rollups[l]=h}}}}for(;;){e=false;for(l in this.rollups){if(this.rollups.hasOwnProperty(l)){if(!d[l]&&((!this.loaded[l])||this.forceMap[l])){h=this.getModule(l);p=h.supersedes||[];f=false;if(!h.rollup){continue}n=0;for(k=0;k<p.length;k++){o=g[p[k]];if(this.loaded[p[k]]&&!this.forceMap[p[k]]){f=false;break}else{if(d[p[k]]&&h.type===o.type){n++;f=(n>=h.rollup);if(f){break}}}}if(f){d[l]=true;e=true;this.getRequires(h)}}}}if(!e){break}}}},"3.18.1",{requires:["loader-base"]});YUI.add("loader-yui3",function(b,a){YUI.Env[b.version].modules=YUI.Env[b.version].modules||{};b.mix(YUI.Env[b.version].modules,{"align-plugin":{requires:["node-screen","node-pluginhost"]},anim:{use:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"]},"anim-base":{requires:["base-base","node-style","color-base"]},"anim-color":{requires:["anim-base"]},"anim-curve":{requires:["anim-xy"]},"anim-easing":{requires:["anim-base"]},"anim-node-plugin":{requires:["node-pluginhost","anim-base"]},"anim-scroll":{requires:["anim-base"]},"anim-shape":{requires:["anim-base","anim-easing","anim-color","matrix"]},"anim-shape-transform":{use:["anim-shape"]},"anim-xy":{requires:["anim-base","node-screen"]},app:{use:["app-base","app-content","app-transitions","lazy-model-list","model","model-list","model-sync-rest","model-sync-local","router","view","view-node-map"]},"app-base":{requires:["classnamemanager","pjax-base","router","view"]},"app-content":{requires:["app-base","pjax-content"]},"app-transitions":{requires:["app-base"]},"app-transitions-css":{type:"css"},"app-transitions-native":{condition:{name:"app-transitions-native",test:function(e){var d=e.config.doc,c=d?d.documentElement:null;if(c&&c.style){return("MozTransition" in c.style||"WebkitTransition" in c.style||"transition" in c.style)}return false},trigger:"app-transitions"},requires:["app-transitions","app-transitions-css","parallel","transition"]},"array-extras":{requires:["yui-base"]},"array-invoke":{requires:["yui-base"]},arraylist:{requires:["yui-base"]},"arraylist-add":{requires:["arraylist"]},"arraylist-filter":{requires:["arraylist"]},arraysort:{requires:["yui-base"]},"async-queue":{requires:["event-custom"]},attribute:{use:["attribute-base","attribute-complex"]},"attribute-base":{requires:["attribute-core","attribute-observable","attribute-extras"]},"attribute-complex":{requires:["attribute-base"]},"attribute-core":{requires:["oop"]},"attribute-events":{use:["attribute-observable"]},"attribute-extras":{requires:["oop"]},"attribute-observable":{requires:["event-custom"]},autocomplete:{use:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"]},"autocomplete-base":{optional:["autocomplete-sources"],requires:["array-extras","base-build","escape","event-valuechange","node-base"]},"autocomplete-filters":{requires:["array-extras","text-wordbreak"]},"autocomplete-filters-accentfold":{requires:["array-extras","text-accentfold","text-wordbreak"]},"autocomplete-highlighters":{requires:["array-extras","highlight-base"]},"autocomplete-highlighters-accentfold":{requires:["array-extras","highlight-accentfold"]},"autocomplete-list":{after:["autocomplete-sources"],lang:["en","es","hu","it"],requires:["autocomplete-base","event-resize","node-screen","selector-css3","shim-plugin","widget","widget-position","widget-position-align"],skinnable:true},"autocomplete-list-keys":{condition:{name:"autocomplete-list-keys",test:function(c){return !(c.UA.ios||c.UA.android)},trigger:"autocomplete-list"},requires:["autocomplete-list","base-build"]},"autocomplete-plugin":{requires:["autocomplete-list","node-pluginhost"]},"autocomplete-sources":{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]},axes:{use:["axis-numeric","axis-category","axis-time","axis-stacked"]},"axes-base":{use:["axis-numeric-base","axis-category-base","axis-time-base","axis-stacked-base"]},axis:{requires:["dom","widget","widget-position","widget-stack","graphics","axis-base"]},"axis-base":{requires:["classnamemanager","datatype-number","datatype-date","base","event-custom"]},"axis-category":{requires:["axis","axis-category-base"]},"axis-category-base":{requires:["axis-base"]},"axis-numeric":{requires:["axis","axis-numeric-base"]},"axis-numeric-base":{requires:["axis-base"]},"axis-stacked":{requires:["axis-numeric","axis-stacked-base"]},"axis-stacked-base":{requires:["axis-numeric-base"]},"axis-time":{requires:["axis","axis-time-base"]},"axis-time-base":{requires:["axis-base"]},base:{use:["base-base","base-pluginhost","base-build"]},"base-base":{requires:["attribute-base","base-core","base-observable"]},"base-build":{requires:["base-base"]},"base-core":{requires:["attribute-core"]},"base-observable":{requires:["attribute-observable","base-core"]},"base-pluginhost":{requires:["base-base","pluginhost"]},button:{requires:["button-core","cssbutton","widget"]},"button-core":{requires:["attribute-core","classnamemanager","node-base","escape"]},"button-group":{requires:["button-plugin","cssbutton","widget"]},"button-plugin":{requires:["button-core","cssbutton","node-pluginhost"]},cache:{use:["cache-base","cache-offline","cache-plugin"]},"cache-base":{requires:["base"]},"cache-offline":{requires:["cache-base","json"]},"cache-plugin":{requires:["plugin","cache-base"]},calendar:{requires:["calendar-base","calendarnavigator"],skinnable:true},"calendar-base":{lang:["de","en","es","es-AR","fr","hu","it","ja","nb-NO","nl","pt-BR","ru","zh-Hans","zh-Hans-CN","zh-Hant","zh-Hant-HK","zh-HANT-TW"],requires:["widget","datatype-date","datatype-date-math","cssgrids"],skinnable:true},calendarnavigator:{requires:["plugin","classnamemanager","datatype-date","node"],skinnable:true},charts:{use:["charts-base"]},"charts-base":{requires:["dom","event-mouseenter","event-touch","graphics-group","axes","series-pie","series-line","series-marker","series-area","series-spline","series-column","series-bar","series-areaspline","series-combo","series-combospline","series-line-stacked","series-marker-stacked","series-area-stacked","series-spline-stacked","series-column-stacked","series-bar-stacked","series-areaspline-stacked","series-combo-stacked","series-combospline-stacked"]},"charts-legend":{requires:["charts-base"]},classnamemanager:{requires:["yui-base"]},"clickable-rail":{requires:["slider-base"]},collection:{use:["array-extras","arraylist","arraylist-add","arraylist-filter","array-invoke"]},color:{use:["color-base","color-hsl","color-harmony"]},"color-base":{requires:["yui-base"]},"color-harmony":{requires:["color-hsl"]},"color-hsl":{requires:["color-base"]},"color-hsv":{requires:["color-base"]},console:{lang:["en","es","hu","it","ja"],requires:["yui-log","widget"],skinnable:true},"console-filters":{requires:["plugin","console"],skinnable:true},"content-editable":{requires:["node-base","editor-selection","stylesheet","plugin"]},controller:{use:["router"]},cookie:{requires:["yui-base"]},"createlink-base":{requires:["editor-base"]},cssbase:{after:["cssreset","cssfonts","cssgrids","cssreset-context","cssfonts-context","cssgrids-context"],type:"css"},"cssbase-context":{after:["cssreset","cssfonts","cssgrids","cssreset-context","cssfonts-context","cssgrids-context"],type:"css"},cssbutton:{type:"css"},cssfonts:{type:"css"},"cssfonts-context":{type:"css"},cssgrids:{optional:["cssnormalize"],type:"css"},"cssgrids-base":{optional:["cssnormalize"],type:"css"},"cssgrids-responsive":{optional:["cssnormalize"],requires:["cssgrids","cssgrids-responsive-base"],type:"css"},"cssgrids-units":{optional:["cssnormalize"],requires:["cssgrids-base"],type:"css"},cssnormalize:{type:"css"},"cssnormalize-context":{type:"css"},cssreset:{type:"css"},"cssreset-context":{type:"css"},dataschema:{use:["dataschema-base","dataschema-json","dataschema-xml","dataschema-array","dataschema-text"]},"dataschema-array":{requires:["dataschema-base"]},"dataschema-base":{requires:["base"]},"dataschema-json":{requires:["dataschema-base","json"]},"dataschema-text":{requires:["dataschema-base"]},"dataschema-xml":{requires:["dataschema-base"]},datasource:{use:["datasource-local","datasource-io","datasource-get","datasource-function","datasource-cache","datasource-jsonschema","datasource-xmlschema","datasource-arrayschema","datasource-textschema","datasource-polling"]},"datasource-arrayschema":{requires:["datasource-local","plugin","dataschema-array"]},"datasource-cache":{requires:["datasource-local","plugin","cache-base"]},"datasource-function":{requires:["datasource-local"]},"datasource-get":{requires:["datasource-local","get"]},"datasource-io":{requires:["datasource-local","io-base"]},"datasource-jsonschema":{requires:["datasource-local","plugin","dataschema-json"]},"datasource-local":{requires:["base"]},"datasource-polling":{requires:["datasource-local"]},"datasource-textschema":{requires:["datasource-local","plugin","dataschema-text"]},"datasource-xmlschema":{requires:["datasource-local","plugin","datatype-xml","dataschema-xml"]},datatable:{use:["datatable-core","datatable-table","datatable-head","datatable-body","datatable-base","datatable-column-widths","datatable-message","datatable-mutable","datatable-sort","datatable-datasource"]},"datatable-base":{requires:["datatable-core","datatable-table","datatable-head","datatable-body","base-build","widget"],skinnable:true},"datatable-body":{requires:["datatable-core","view","classnamemanager"]},"datatable-column-widths":{requires:["datatable-base"]},"datatable-core":{requires:["escape","model-list","node-event-delegate"]},"datatable-datasource":{requires:["datatable-base","plugin","datasource-local"]},"datatable-foot":{requires:["datatable-core","view"]},"datatable-formatters":{requires:["datatable-body","datatype-number-format","datatype-date-format","escape"]},"datatable-head":{requires:["datatable-core","view","classnamemanager"]},"datatable-highlight":{requires:["datatable-base","event-hover"],skinnable:true},"datatable-keynav":{requires:["datatable-base"]},"datatable-message":{lang:["en","fr","es","hu","it"],requires:["datatable-base"],skinnable:true},"datatable-mutable":{requires:["datatable-base"]},"datatable-paginator":{lang:["en","fr"],requires:["model","view","paginator-core","datatable-foot","datatable-paginator-templates"],skinnable:true},"datatable-paginator-templates":{requires:["template"]},"datatable-scroll":{requires:["datatable-base","datatable-column-widths","dom-screen"],skinnable:true},"datatable-sort":{lang:["en","fr","es","hu"],requires:["datatable-base"],skinnable:true},"datatable-table":{requires:["datatable-core","datatable-head","datatable-body","view","classnamemanager"]},datatype:{use:["datatype-date","datatype-number","datatype-xml"]},"datatype-date":{use:["datatype-date-parse","datatype-date-format","datatype-date-math"]},"datatype-date-format":{lang:["ar","ar-JO","ca","ca-ES","da","da-DK","de","de-AT","de-DE","el","el-GR","en","en-AU","en-CA","en-GB","en-IE","en-IN","en-JO","en-MY","en-NZ","en-PH","en-SG","en-US","es","es-AR","es-BO","es-CL","es-CO","es-EC","es-ES","es-MX","es-PE","es-PY","es-US","es-UY","es-VE","fi","fi-FI","fr","fr-BE","fr-CA","fr-FR","hi","hi-IN","hu","id","id-ID","it","it-IT","ja","ja-JP","ko","ko-KR","ms","ms-MY","nb","nb-NO","nl","nl-BE","nl-NL","pl","pl-PL","pt","pt-BR","ro","ro-RO","ru","ru-RU","sv","sv-SE","th","th-TH","tr","tr-TR","vi","vi-VN","zh-Hans","zh-Hans-CN","zh-Hant","zh-Hant-HK","zh-Hant-TW"]},"datatype-date-math":{requires:["yui-base"]},"datatype-date-parse":{},"datatype-number":{use:["datatype-number-parse","datatype-number-format"]},"datatype-number-format":{},"datatype-number-parse":{requires:["escape"]},"datatype-xml":{use:["datatype-xml-parse","datatype-xml-format"]},"datatype-xml-format":{},"datatype-xml-parse":{},dd:{use:["dd-ddm-base","dd-ddm","dd-ddm-drop","dd-drag","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate"]},"dd-constrain":{requires:["dd-drag"]},"dd-ddm":{requires:["dd-ddm-base","event-resize"]},"dd-ddm-base":{requires:["node","base","yui-throttle","classnamemanager"]},"dd-ddm-drop":{requires:["dd-ddm"]},"dd-delegate":{requires:["dd-drag","dd-drop-plugin","event-mouseenter"]},"dd-drag":{requires:["dd-ddm-base","selector-css2"]},"dd-drop":{requires:["dd-drag","dd-ddm-drop"]},"dd-drop-plugin":{requires:["dd-drop"]},"dd-gestures":{condition:{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"},requires:["dd-drag","event-synthetic","event-gestures"]},"dd-plugin":{optional:["dd-constrain","dd-proxy"],requires:["dd-drag"]},"dd-proxy":{requires:["dd-drag"]},"dd-scroll":{requires:["dd-drag"]},dial:{lang:["en","es","hu"],requires:["widget","dd-drag","event-mouseenter","event-move","event-key","transition","intl"],skinnable:true},dom:{use:["dom-base","dom-screen","dom-style","selector-native","selector"]},"dom-base":{requires:["dom-core"]},"dom-core":{requires:["oop","features"]},"dom-screen":{requires:["dom-base","dom-style"]},"dom-style":{requires:["dom-base"]},"dom-style-ie":{condition:{name:"dom-style-ie",test:function(i){var g=i.Features.test,h=i.Features.add,e=i.config.win,f=i.config.doc,c="documentElement",d=false;h("style","computedStyle",{test:function(){return e&&"getComputedStyle" in e}});h("style","opacity",{test:function(){return f&&"opacity" in f[c].style}});d=(!g("style","opacity")&&!g("style","computedStyle"));return d},trigger:"dom-style"},requires:["dom-style","color-base"]},dump:{requires:["yui-base"]},editor:{use:["frame","editor-selection","exec-command","editor-base","editor-para","editor-br","editor-bidi","editor-tab","createlink-base"]},"editor-base":{requires:["base","frame","node","exec-command","editor-selection"]},"editor-bidi":{requires:["editor-base"]},"editor-br":{requires:["editor-base"]},"editor-inline":{requires:["editor-base","content-editable"]},"editor-lists":{requires:["editor-base"]},"editor-para":{requires:["editor-para-base"]},"editor-para-base":{requires:["editor-base"]},"editor-para-ie":{condition:{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"},requires:["editor-para-base"]},"editor-selection":{requires:["node"]},"editor-tab":{requires:["editor-base"]},escape:{requires:["yui-base"]},event:{after:["node-base"],use:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover","event-outside","event-touch","event-move","event-flick","event-valuechange","event-tap"]},"event-base":{after:["node-base"],requires:["event-custom-base"]},"event-base-ie":{after:["event-base"],condition:{name:"event-base-ie",test:function(d){var c=d.config.doc&&d.config.doc.implementation;return(c&&(!c.hasFeature("Events","2.0")))},trigger:"node-base"},requires:["node-base"]},"event-contextmenu":{requires:["event-synthetic","dom-screen"]},"event-custom":{use:["event-custom-base","event-custom-complex"]},"event-custom-base":{requires:["oop"]},"event-custom-complex":{requires:["event-custom-base"]},"event-delegate":{requires:["node-base"]},"event-flick":{requires:["node-base","event-touch","event-synthetic"]},"event-focus":{requires:["event-synthetic"]},"event-gestures":{use:["event-flick","event-move"]},"event-hover":{requires:["event-mouseenter"]},"event-key":{requires:["event-synthetic"]},"event-mouseenter":{requires:["event-synthetic"]},"event-mousewheel":{requires:["node-base"]},"event-move":{requires:["node-base","event-touch","event-synthetic"]},"event-outside":{requires:["event-synthetic"]},"event-resize":{requires:["node-base","event-synthetic"]},"event-simulate":{requires:["event-base"]},"event-synthetic":{requires:["node-base","event-custom-complex"]},"event-tap":{requires:["node-base","event-base","event-touch","event-synthetic"]},"event-touch":{requires:["node-base"]},"event-valuechange":{requires:["event-focus","event-synthetic"]},"exec-command":{requires:["frame"]},features:{requires:["yui-base"]},file:{requires:["file-flash","file-html5"]},"file-flash":{requires:["base"]},"file-html5":{requires:["base"]},frame:{requires:["base","node","plugin","selector-css3","yui-throttle"]},"gesture-simulate":{requires:["async-queue","event-simulate","node-screen"]},get:{requires:["yui-base"]},graphics:{requires:["node","event-custom","pluginhost","matrix","classnamemanager"]},"graphics-canvas":{condition:{name:"graphics-canvas",test:function(g){var e=g.config.doc,f=g.config.defaultGraphicEngine&&g.config.defaultGraphicEngine=="canvas",d=e&&e.createElement("canvas"),c=(e&&e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return(!c||f)&&(d&&d.getContext&&d.getContext("2d"))},trigger:"graphics"},requires:["graphics","color-base"]},"graphics-canvas-default":{condition:{name:"graphics-canvas-default",test:function(g){var e=g.config.doc,f=g.config.defaultGraphicEngine&&g.config.defaultGraphicEngine=="canvas",d=e&&e.createElement("canvas"),c=(e&&e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return(!c||f)&&(d&&d.getContext&&d.getContext("2d"))},trigger:"graphics"}},"graphics-group":{requires:["graphics"]},"graphics-svg":{condition:{name:"graphics-svg",test:function(g){var f=g.config.doc,e=!g.config.defaultGraphicEngine||g.config.defaultGraphicEngine!="canvas",d=f&&f.createElement("canvas"),c=(f&&f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return c&&(e||!d)},trigger:"graphics"},requires:["graphics"]},"graphics-svg-default":{condition:{name:"graphics-svg-default",test:function(g){var f=g.config.doc,e=!g.config.defaultGraphicEngine||g.config.defaultGraphicEngine!="canvas",d=f&&f.createElement("canvas"),c=(f&&f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));return c&&(e||!d)},trigger:"graphics"}},"graphics-vml":{condition:{name:"graphics-vml",test:function(e){var d=e.config.doc,c=d&&d.createElement("canvas");return(d&&!d.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!c||!c.getContext||!c.getContext("2d")))},trigger:"graphics"},requires:["graphics","color-base"]},"graphics-vml-default":{condition:{name:"graphics-vml-default",test:function(e){var d=e.config.doc,c=d&&d.createElement("canvas");return(d&&!d.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!c||!c.getContext||!c.getContext("2d")))},trigger:"graphics"}},handlebars:{use:["handlebars-compiler"]},"handlebars-base":{requires:[]},"handlebars-compiler":{requires:["handlebars-base"]},highlight:{use:["highlight-base","highlight-accentfold"]},"highlight-accentfold":{requires:["highlight-base","text-accentfold"]},"highlight-base":{requires:["array-extras","classnamemanager","escape","text-wordbreak"]},history:{use:["history-base","history-hash","history-html5"]},"history-base":{requires:["event-custom-complex"]},"history-hash":{after:["history-html5"],requires:["event-synthetic","history-base","yui-later"]},"history-hash-ie":{condition:{name:"history-hash-ie",test:function(d){var c=d.config.doc&&d.config.doc.documentMode;return d.UA.ie&&(!("onhashchange" in d.config.win)||!c||c<8)},trigger:"history-hash"},requires:["history-hash","node-base"]},"history-html5":{optional:["json"],requires:["event-base","history-base","node-base"]},imageloader:{requires:["base-base","node-style","node-screen"]},intl:{requires:["intl-base","event-custom"]},"intl-base":{requires:["yui-base"]},io:{use:["io-base","io-xdr","io-form","io-upload-iframe","io-queue"]},"io-base":{requires:["event-custom-base","querystring-stringify-simple"]},"io-form":{requires:["io-base","node-base"]},"io-nodejs":{condition:{name:"io-nodejs",trigger:"io-base",ua:"nodejs"},requires:["io-base"]},"io-queue":{requires:["io-base","queue-promote"]},"io-upload-iframe":{requires:["io-base","node-base"]},"io-xdr":{requires:["io-base","datatype-xml-parse"]},json:{use:["json-parse","json-stringify"]},"json-parse":{requires:["yui-base"]},"json-parse-shim":{condition:{name:"json-parse-shim",test:function(i){var f=i.config.global.JSON,d=Object.prototype.toString.call(f)==="[object JSON]"&&f,h=i.config.useNativeJSONParse!==false&&!!d;function c(j,e){return j==="ok"?true:e}if(h){try{h=(d.parse('{"ok":false}',c)).ok}catch(g){h=false}}return !h},trigger:"json-parse"},requires:["json-parse"]},"json-stringify":{requires:["yui-base"]},"json-stringify-shim":{condition:{name:"json-stringify-shim",test:function(h){var d=h.config.global.JSON,c=Object.prototype.toString.call(d)==="[object JSON]"&&d,g=h.config.useNativeJSONStringify!==false&&!!c;if(g){try{g=("0"===c.stringify(0))}catch(f){g=false}}return !g},trigger:"json-stringify"},requires:["json-stringify"]},jsonp:{requires:["get","oop"]},"jsonp-url":{requires:["jsonp"]},"lazy-model-list":{requires:["model-list"]},loader:{use:["loader-base","loader-rollup","loader-yui3"]},"loader-base":{requires:["get","features"]},"loader-pathogen-combohandler":{},"loader-pathogen-encoder":{use:["loader-base","loader-rollup","loader-yui3","loader-pathogen-combohandler"]},"loader-rollup":{requires:["loader-base"]},"loader-yui3":{requires:["loader-base"]},matrix:{requires:["yui-base"]},model:{requires:["base-build","escape","json-parse"]},"model-list":{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]},"model-sync-local":{requires:["model","json-stringify"]},"model-sync-rest":{requires:["model","io-base","json-stringify"]},node:{use:["node-base","node-event-delegate","node-pluginhost","node-screen","node-style"]},"node-base":{requires:["event-base","node-core","dom-base","dom-style"]},"node-core":{requires:["dom-core","selector"]},"node-event-delegate":{requires:["node-base","event-delegate"]},"node-event-html5":{requires:["node-base"]},"node-event-simulate":{requires:["node-base","event-simulate","gesture-simulate"]},"node-flick":{requires:["classnamemanager","transition","event-flick","plugin"],skinnable:true},"node-focusmanager":{requires:["attribute","node","plugin","node-event-simulate","event-key","event-focus"]},"node-load":{requires:["node-base","io-base"]},"node-menunav":{requires:["node","classnamemanager","plugin","node-focusmanager"],skinnable:true},"node-pluginhost":{requires:["node-base","pluginhost"]},"node-screen":{requires:["dom-screen","node-base"]},"node-scroll-info":{requires:["array-extras","base-build","event-resize","node-pluginhost","plugin","selector"]},"node-style":{requires:["dom-style","node-base"]},oop:{requires:["yui-base"]},overlay:{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:true},paginator:{requires:["paginator-core"]},"paginator-core":{requires:["base"]},"paginator-url":{requires:["paginator"]},panel:{requires:["widget","widget-autohide","widget-buttons","widget-modality","widget-position","widget-position-align","widget-position-constrain","widget-stack","widget-stdmod"],skinnable:true},parallel:{requires:["yui-base"]},pjax:{requires:["pjax-base","pjax-content"]},"pjax-base":{requires:["classnamemanager","node-event-delegate","router"]},"pjax-content":{requires:["io-base","node-base","router"]},"pjax-plugin":{requires:["node-pluginhost","pjax","plugin"]},plugin:{requires:["base-base"]},pluginhost:{use:["pluginhost-base","pluginhost-config"]},"pluginhost-base":{requires:["yui-base"]},"pluginhost-config":{requires:["pluginhost-base"]},promise:{requires:["timers"]},querystring:{use:["querystring-parse","querystring-stringify"]},"querystring-parse":{requires:["yui-base","array-extras"]},"querystring-parse-simple":{requires:["yui-base"]},"querystring-stringify":{requires:["yui-base"]},"querystring-stringify-simple":{requires:["yui-base"]},"queue-promote":{requires:["yui-base"]},"range-slider":{requires:["slider-base","slider-value-range","clickable-rail"]},recordset:{use:["recordset-base","recordset-sort","recordset-filter","recordset-indexer"]},"recordset-base":{requires:["base","arraylist"]},"recordset-filter":{requires:["recordset-base","array-extras","plugin"]},"recordset-indexer":{requires:["recordset-base","plugin"]},"recordset-sort":{requires:["arraysort","recordset-base","plugin"]},resize:{use:["resize-base","resize-proxy","resize-constrain"]},"resize-base":{requires:["base","widget","event","oop","dd-drag","dd-delegate","dd-drop"],skinnable:true},"resize-constrain":{requires:["plugin","resize-base"]},"resize-plugin":{optional:["resize-constrain"],requires:["resize-base","plugin"]},"resize-proxy":{requires:["plugin","resize-base"]},router:{optional:["querystring-parse"],requires:["array-extras","base-build","history"]},scrollview:{requires:["scrollview-base","scrollview-scrollbars"]},"scrollview-base":{requires:["widget","event-gestures","event-mousewheel","transition"],skinnable:true},"scrollview-base-ie":{condition:{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"},requires:["scrollview-base"]},"scrollview-list":{requires:["plugin","classnamemanager"],skinnable:true},"scrollview-paginator":{requires:["plugin","classnamemanager"]},"scrollview-scrollbars":{requires:["classnamemanager","transition","plugin"],skinnable:true},selector:{requires:["selector-native"]},"selector-css2":{condition:{name:"selector-css2",test:function(e){var d=e.config.doc,c=d&&!("querySelectorAll" in d);return c},trigger:"selector"},requires:["selector-native"]},"selector-css3":{requires:["selector-native","selector-css2"]},"selector-native":{requires:["dom-base"]},"series-area":{requires:["series-cartesian","series-fill-util"]},"series-area-stacked":{requires:["series-stacked","series-area"]},"series-areaspline":{requires:["series-area","series-curve-util"]},"series-areaspline-stacked":{requires:["series-stacked","series-areaspline"]},"series-bar":{requires:["series-marker","series-histogram-base"]},"series-bar-stacked":{requires:["series-stacked","series-bar"]},"series-base":{requires:["graphics","axis-base"]},"series-candlestick":{requires:["series-range"]},"series-cartesian":{requires:["series-base"]},"series-column":{requires:["series-marker","series-histogram-base"]},"series-column-stacked":{requires:["series-stacked","series-column"]},"series-combo":{requires:["series-cartesian","series-line-util","series-plot-util","series-fill-util"]},"series-combo-stacked":{requires:["series-stacked","series-combo"]},"series-combospline":{requires:["series-combo","series-curve-util"]},"series-combospline-stacked":{requires:["series-combo-stacked","series-curve-util"]},"series-curve-util":{},"series-fill-util":{},"series-histogram-base":{requires:["series-cartesian","series-plot-util"]},"series-line":{requires:["series-cartesian","series-line-util"]},"series-line-stacked":{requires:["series-stacked","series-line"]},"series-line-util":{},"series-marker":{requires:["series-cartesian","series-plot-util"]},"series-marker-stacked":{requires:["series-stacked","series-marker"]},"series-ohlc":{requires:["series-range"]},"series-pie":{requires:["series-base","series-plot-util"]},"series-plot-util":{},"series-range":{requires:["series-cartesian"]},"series-spline":{requires:["series-line","series-curve-util"]},"series-spline-stacked":{requires:["series-stacked","series-spline"]},"series-stacked":{requires:["axis-stacked"]},"shim-plugin":{requires:["node-style","node-pluginhost"]},slider:{use:["slider-base","slider-value-range","clickable-rail","range-slider"]},"slider-base":{requires:["widget","dd-constrain","event-key"],skinnable:true},"slider-value-range":{requires:["slider-base"]},sortable:{requires:["dd-delegate","dd-drop-plugin","dd-proxy"]},"sortable-scroll":{requires:["dd-scroll","sortable"]},stylesheet:{requires:["yui-base"]},substitute:{optional:["dump"],requires:["yui-base"]},swf:{requires:["event-custom","node","swfdetect","escape"]},swfdetect:{requires:["yui-base"]},tabview:{requires:["widget","widget-parent","widget-child","tabview-base","node-pluginhost","node-focusmanager"],skinnable:true},"tabview-base":{requires:["node-event-delegate","classnamemanager"]},"tabview-plugin":{requires:["tabview-base"]},template:{use:["template-base","template-micro"]},"template-base":{requires:["yui-base"]},"template-micro":{requires:["escape"]},test:{requires:["event-simulate","event-custom","json-stringify"]},"test-console":{requires:["console-filters","test","array-extras"],skinnable:true},text:{use:["text-accentfold","text-wordbreak"]},"text-accentfold":{requires:["array-extras","text-data-accentfold"]},"text-data-accentfold":{requires:["yui-base"]},"text-data-wordbreak":{requires:["yui-base"]},"text-wordbreak":{requires:["array-extras","text-data-wordbreak"]},timers:{requires:["yui-base"]},transition:{requires:["node-style"]},"transition-timer":{condition:{name:"transition-timer",test:function(f){var e=f.config.doc,d=(e)?e.documentElement:null,c=true;if(d&&d.style){c=!("MozTransition" in d.style||"WebkitTransition" in d.style||"transition" in d.style)}return c},trigger:"transition"},requires:["transition"]},tree:{requires:["base-build","tree-node"]},"tree-labelable":{requires:["tree"]},"tree-lazy":{requires:["base-pluginhost","plugin","tree"]},"tree-node":{},"tree-openable":{requires:["tree"]},"tree-selectable":{requires:["tree"]},"tree-sortable":{requires:["tree"]},uploader:{requires:["uploader-html5","uploader-flash"]},"uploader-flash":{requires:["swfdetect","escape","widget","base","cssbutton","node","event-custom","uploader-queue"]},"uploader-html5":{requires:["widget","node-event-simulate","file-html5","uploader-queue"]},"uploader-queue":{requires:["base"]},view:{requires:["base-build","node-event-delegate"]},"view-node-map":{requires:["view"]},widget:{use:["widget-base","widget-htmlparser","widget-skin","widget-uievents"]},"widget-anim":{requires:["anim-base","plugin","widget"]},"widget-autohide":{requires:["base-build","event-key","event-outside","widget"]},"widget-base":{requires:["attribute","base-base","base-pluginhost","classnamemanager","event-focus","node-base","node-style"],skinnable:true},"widget-base-ie":{condition:{name:"widget-base-ie",trigger:"widget-base",ua:"ie"},requires:["widget-base"]},"widget-buttons":{requires:["button-plugin","cssbutton","widget-stdmod"]},"widget-child":{requires:["base-build","widget"]},"widget-htmlparser":{requires:["widget-base"]},"widget-modality":{requires:["base-build","event-outside","widget"],skinnable:true},"widget-parent":{requires:["arraylist","base-build","widget"]},"widget-position":{requires:["base-build","node-screen","widget"]},"widget-position-align":{requires:["widget-position"]},"widget-position-constrain":{requires:["widget-position"]},"widget-skin":{requires:["widget-base"]},"widget-stack":{requires:["base-build","widget"],skinnable:true},"widget-stdmod":{requires:["base-build","widget"]},"widget-uievents":{requires:["node-event-delegate","widget-base"]},yql:{requires:["oop"]},"yql-jsonp":{condition:{name:"yql-jsonp",test:function(c){return(!c.UA.nodejs&&!c.UA.winjs)},trigger:"yql"},requires:["yql","jsonp","jsonp-url"]},"yql-nodejs":{condition:{name:"yql-nodejs",trigger:"yql",ua:"nodejs"},requires:["yql"]},"yql-winjs":{condition:{name:"yql-winjs",trigger:"yql",ua:"winjs"},requires:["yql"]},yui:{},"yui-base":{},"yui-later":{requires:["yui-base"]},"yui-log":{requires:["yui-base"]},"yui-throttle":{requires:["yui-base"]}});YUI.Env[b.version].md5="2fd2be6b12ee9f999b4367499ae61aae"},"3.18.1",{requires:["loader-base"]});YUI.add("yui",function(b,a){},"3.18.1",{use:["yui-base","get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"]});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length>>>0;var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}Array.prototype.flatten=function(){var b=[],c,a,e,d=Array.prototype;for(c=0,a=this.length;c<a;c++){e=this[c];if(Object.prototype.toString.call(e)==="[object Array]"){d.push.apply(b,d.flatten.call(e))}else{b.push(e)}}return b};function argsArray(a){return Array.prototype.slice.call(a)}Array.prototype.last=function(){return this[this.length-1]};Array.prototype.deleteItem=function(b){var a=this.indexOf(b);a!==-1&&this.splice(a,1)};Array.prototype.shuffle=function(){var b=this.length,d,c,a;while(--b){d=~~(Math.random()*b);c=this[b];a=this[d];this[d]=c;this[b]=a}};Function.prototype.bind=function(b){var a=this;return function(){var c=argsArray(arguments);return a.apply(b,c)}};Function.prototype.partial=function(){var b=this,a=argsArray(arguments);return function(){var e,c,d=[].concat(a);for(e=0,c=arguments.length;e<c;e++){d.push(arguments[e])}return b.apply(this,d)}};function instance(c,b){var a=new Function(),e,d;a.prototype=c;e=new a;if(typeof b==="object"){for(d in b){if(b.hasOwnProperty(d)){e[d]=b[d]}}}return e}function normalize(a){var b=typeof a==="function"?a():a;return isNaN(b)?undefined:b}Object.prototype.mapToFloat=function(){var a;for(a in this){if(this.hasOwnProperty(a)){this[a]=parseFloat(this[a])}}return this};Object.prototype.mapAppend=function(b){var a;for(a in this){if(this.hasOwnProperty(a)){this[a]+=b}}return this};var Game;YUI.add("solitaire",function(d){var b=d.namespace("Solitaire");function a(e){a.superclass.constructor.call(this,e)}d.extend(a,d.DD.Delegate,{getCard:function(){return this.get("currentNode").getData("target")}});d.mix(b,{activeCard:null,moves:null,selector:"body",offset:{left:50,top:70},padding:{x:50,y:50},widthScale:0,noop:function(){},name:function(){var e;for(e in b){if(b.hasOwnProperty(e)&&b[e]===Game){return e}}},container:function(){return d.one(b.selector)},width:function(){return this.Card.base.width*this.widthScale},height:function(){return this.Card.base.height*4.2},maxStackHeight:function(){return b.Application.windowHeight-normalize(this.Tableau.stackConfig.layout.top)-b.offset.top},undo:function(){d.fire("undo")},pushMove:function(f){var e=b.moves;e&&e.push(f)},serialize:function(){var j=[],k=[],h,g,f,e;d.Array.each(this.fields,function(i){g=this[i.toLowerCase()].stacks;for(f=0,e=g.length;f<e;f++){h=g[f].serialize();j.push(h);k.push(String.fromCharCode(h.length))}},this);return[String.fromCharCode(j.length)].concat(k,j).join("")},stationary:function(f){var e=Game.Card.updatePosition;Game.Card.updatePosition=b.noop;f.call(this);Game.Card.updatePosition=e},unanimated:function(g){var f=d.Solitaire.Animation,e=f.animate;f.animate=false;g.call(this);f.animate=e},unserialize:function(e){this.unanimated(function(){var f=e.charCodeAt(0),j=e.substr(1,f),k=f+1,m,n=this.fields,q=-1,h=[],p,o,l,g;for(l=0,p=0;l<f;l++,p++,k+=g){g=j.charCodeAt(l);m=e.substr(k,g);if(p===h.length){q++;h=this[n[q].toLowerCase()].stacks;p=0}o=h[p];o.unserialize(m);o.updateCardsPosition()}})},save:function(e){var f=this.serialize(),e=e||"saved-game",g=1206900000;d.Cookie.set(e,f,{expires:new Date(new Date().getTime()+g)})},loadGame:function(e){this.unanimated(function(){this.setup(function(){this.unserialize(e)})});d.fire("loadGame")},newGame:function(){d.Cookie.remove("saved-game");this.setup(this.deal);Game.save("initial-game");d.fire("newGame")},cleanup:function(){d.Event.purgeElement(this.container());d.detach("solitaire|*");this.eachStack(function(e){e.cleanup()})},setup:function(e){Game=b.game=this;d.fire("beforeSetup");b.moves=null;c.clear();this.stationary(function(){this.init();d.Solitaire.Animation.initQueue();this.createStacks();this.createEvents();this.createDraggables();e.call(this)});b.moves=[];d.fire("afterSetup");d.Solitaire.Animation.dealing=true;Game.eachStack(function(f){f.updateCardsStyle();f.updateCardsPosition()});d.Solitaire.Animation.dealing=false},createEvents:function(){var e=d.one(b.selector);e.delegate("dblclick",Game.autoPlay,".card");e.delegate("contextmenu",Game.autoPlay,".card");e.delegate("click",Game.Events.click,".card");e.delegate("touchend",Game.Events.click,".card");d.on("solitaire|endTurn",Game.Events.endTurn);d.on("solitaire|undo",Game.Events.undo)},createDraggables:function(){var e=new a({dragConfig:{dragMode:"intersect",groups:["open"],clickPixelThresh:0},container:b.selector,nodes:".card"});e.dd.plug(d.Plugin.DDProxy,{borderStyle:"none",moveOnEnd:false});e.on("drag:drag",Game.Events.drag);e.on("drag:mouseDown",Game.Events.dragCheck);e.on("drag:start",Game.Events.dragStart);e.on("drag:dropmiss",Game.Events.dragMiss);e.on("drag:drophit",Game.Events.drop);e.on("drag:end",Game.Events.dragEnd)},createField:function(l){if(!l){return}var k=instance(l),m,g,j,h,e;if(l.stackConfig){m=l.stackConfig.layout;j=new Array(l.stackConfig.total);l.Stack.field=l.field;for(h=0,e=j.length;h<e;h++){g=instance(l.Stack);g.configLayout=m;g.layout(d.merge(m,{hoffset:h*m.hspacing||0,voffset:h*m.vspacing||0}),h);j[h]=g}}k.stacks=j;typeof k.init==="function"&&k.init();return k},createStacks:function(){this.eachStack(function(e){e.cards=[];e.createNode()})},eachStack:function(f,e){Game&&d.Array.each(Game.fields,function(h){var g=h.toLowerCase(),i=Game[g],j=e||g;j===g&&i.stacks&&d.Array.each(i.stacks,f)})},resize:function(e){d.fire("beforeResize");this.scale(e);this.unanimated(function(){this.eachStack(function(f,g){var j=f.cards,h=f.configLayout;f.adjustRankHeight();f.cards=[];f.layout(d.merge(h,{hoffset:g*h.hspacing||0,voffset:g*h.vspacing||0}),g);f.updateStyle();f.setCards(j.length,function(l){var k=j[l];k&&k.updateStyle();return k});f.update()})});d.fire("afterResize")},scale:function(g){var e=d.Solitaire.Card,f=e.base,h;e.scale=g;for(h in f){if(f.hasOwnProperty(h)){e[h]=f[h]*g}}},init:function(){var g=b.preventDefault,f,h,e;d.on("selectstart",g,document);d.on("mousedown",g,document.body);d.on("contextmenu",function(j){var i=j.target;if(i.hasClass("stack")||i.hasClass("card")){j.preventDefault()}},document);this.scale(1);e=d.Array.map(Game.fields,function(i){return Game[i.toLowerCase()]=Game.createField(Game[i])});if(Game.fields.indexOf("Deck"===-1)){Game.deck=Game.createField(Game.Deck)}f=Math.min.apply(Math,d.Array.map(e,function(i){return d.Array.map(i.stacks,function(j){return j.left})}).flatten());h=Math.max.apply(Math,d.Array.map(e,function(i){return d.Array.map(i.stacks,function(j){return j.left})}).flatten())+this.Card.width;this.widthScale=(h-f)/this.Card.base.width},preventDefault:function(f){f.preventDefault()},autoPlay:function(){var e=typeof this.getCard==="function"?this.getCard():this.getData("target");e.autoPlay()},isWon:function(){var k=this.foundation.stacks,f=this.deck,h,j=0,g,e;h=f.suits.length*13*f.count;for(g=0,e=k.length;g<e;g++){j+=k[g].cards.length}return j===h},win:function(){d.fire("win");d.Cookie.remove("saved-game")},endTurn:function(){d.fire("endTurn")}});d.Solitaire.Events={click:function(g){var f=g.target.getData("target");if(f.dragging){return}f.dragging=false;f.turnOver(g);b.moves.reverse();b.endTurn();g.preventDefault()},clickEmptyDeck:function(){Game.redeal();b.moves.reverse();b.endTurn()},drag:function(){this.getCard().dragging=true},dragCheck:function(){var f=this.getCard(),e=f.createProxyStack();if(!e){return}b.activeCard=f;Game.eachStack(function(g){g.updateDragGroups()})},dragStart:function(){var e=this.getCard(),g=this.get("dragNode"),f=e.createProxyNode();if(f){g.setContent(f);!e.proxyStack&&d.one(".yui3-dd-shim").setStyle("cursor","not-allowed")}},dragMiss:function(){var e=this.getCard();Game.unanimated(function(){e.updatePosition()})},dragEnd:function(){var j=this.getCard(),m=b.container(),k=new d.Node(document.createDocumentFragment()),g,h,i=this.dd.realXY,n=m.getXY(),e,l,f=j.proxyStack;j.dragging=false;g=this.get("dragNode");h=g.get("firstChild");h&&h.remove();if(!f){return}e=f.cards;l=j.stack;f.left=i[0]-n[0];f.top=i[1]-n[1];Game.unanimated(function(){f.updateCardsPosition()});d.Array.each(e,function(o){if(!o){return}o.proxyStack=null;k.append(o.node)});m.append(k);l.updateCardsPosition()},drop:function(j){if(!b.activeCard){return}var h=b.activeCard,f=h.proxyStack,g=h.stack,i,k;if(f){k=f.first();i=j.drop.get("node").getData("target");i=i.stack||i;if((f.cards.length===1&&k.validTarget(i))||f.validTarget(i)){i.pushStack(f)}}b.endTurn()},endTurn:function(){b.moves.length&&c.push(b.moves);b.moves=[];b.activeCard=null;Game.eachStack(function(e){e.updateCardsStyle()});if(Game.isWon()){Game.win()}else{Game.save()}},undo:function(){var e=argsArray(arguments);e.unshift("endTurn");c.undo();d.fire.apply(d,e)}};d.Solitaire.Deck={count:1,suits:["c","d","h","s"],init:function(f){var g=this.suits,j,h,k,i,e=Game.Card;this.cards=[];for(i=0;i<this.count;i++){for(k=1;k<=13;k++){for(h=0;j=g[h];h++){this.cards.push(e.create(k,j).faceDown())}}}if(f===undefined){this.cards.shuffle()}else{this.msSeededShuffle(f)}},msSeededShuffle:function(e){var k=this.cards,g=Math.pow(2,31),j,f,h;for(h=k.length;h>1;h--){e=((214013*e)%g+2531011)%g;j=(e>>16)&32767;item=k[h-1];f=k[j%h];k[h-1]=f;k[j%h]=item}},createStack:function(){var e;for(e=this.cards.length-1;e>=0;e--){this.stacks[0].push(this.cards[e])}},last:function(){return this.cards.last()},pop:function(){return this.cards.pop()}};d.Solitaire.Card={zIndex:1,index:-1,width:null,height:null,rankHeight:null,hiddenRankHeight:null,isFaceDown:false,positioned:false,scale:1,stack:null,proxyStack:null,ghost:true,dragging:false,node:null,callback:null,left:0,top:0,base:{},origin:{left:function(){var e=b.container().getXY()[0];return -e-d.Solitaire.Card.width},top:function(){var e=b.container().getXY()[1];return -e-d.Solitaire.Card.height}},animSpeeds:{slow:0.5,mid:0.2,fast:0.1},create:function(g,f){var e={c:0,s:0,h:1,d:1};return instance(this,{rank:g,suit:f,color:e[f]})},truncatePosition:function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top)},faceDown:function(e){this.isFaceDown=true;this.setRankHeight();this.setImageSrc();e||b.pushMove({card:this,faceDown:true});return this},faceUp:function(e){this.isFaceDown=false;this.setRankHeight();this.setImageSrc();e||b.pushMove({card:this,faceDown:false});return this},setRankHeight:function(){var e=this.stack,f,g;if(e&&e.rankHeight){f=e.rankHeight;g=e.hiddenRankHeight}else{f=b.Card.rankHeight;g=b.Card.hiddenRankHeight}this.rankHeight=this.isFaceDown?g:f},imageSrc:function(){var e=this.base.theme+"/";e+=this.isFaceDown?"facedown":this.suit+this.rank;e+=".png";return e},setImageSrc:function(){var e=this.node;e&&e.setAttribute("src",this.imageSrc())},wrapperStyle:function(){return{left:this.left,top:this.top,width:Math.floor(this.width),height:Math.floor(this.height)}},updateStyle:function(){var e=this.node;e&&e.setStyles(this.wrapperStyle());this.setRankHeight()},turnOver:function(g){if(!this.isFaceDown){return}var f=this.stack;if(f.field==="deck"){Game.turnOver()}else{if(this.isFree()){this.faceUp()}}g.stopPropagation()},autoPlay:function(){var f=this.stack,k=f.last(),j,g,h,e;if(this.isFaceDown||f.field==="foundation"){return}j=Game.foundation.stacks;for(h=0,e=j.length;h<e;h++){g=j[h];if(this.isFree()&&this.validTarget(g)){this.moveTo(g);f.updateCardsPosition();f.update();b.endTurn();return true}}return false},ensureDOM:function(){!this.node&&this.createNode()},isFree:function(){return this===this.stack.last()},playable:function(){return this.stack.field==="deck"||(this.isFree()&&(this.stack.field!=="foundation"))},createNode:function(){var e,g,f=this;g=this.node=d.Node.create("<img class='card'>").setData("target",this).setAttribute("src",this.imageSrc()).plug(d.Plugin.Drop,{useShim:false});g.setStyles({left:-this.width,top:-this.height});this.setRankHeight();b.container().append(g)},destroyNode:function(){var e=this.node;e&&e.clearData().destroy(true)},createProxyStack:function(){if(this.isFaceDown||this.stack.field==="foundation"){this.proxyStack=null;return null}var f=instance(this.stack,{proxy:true,stack:this.stack}),j=f.cards,g,h,e;f.cards=[];f.push(this,true);for(h=j.indexOf(this)+1,e=j.length;h<e;h++){g=j[h];if(f.validProxy(g)){f.push(g,true)}else{break}}this.proxyStack=h===e?f:null;return this.proxyStack},proxyCards:function(){return this.proxyStack.cards},createProxyNode:function(){var f=d.Node.create("<div>"),e=this.proxyStack;if(!e){if(!this.ghost){return null}f.setStyles({opacity:0.6,top:-this.top,left:-this.left}).append(this.node.cloneNode(true))}else{f.setStyles({opacity:1,top:-this.top,left:-this.left});d.Array.each(this.proxyCards(),function(g){g.proxyStack=e;f.append(g.node)})}return f},updatePosition:function(e){if(!this.node){return}var g={left:this.left+"px",top:this.top+"px",zIndex:this.zIndex},f=this.origin;if(!this.positioned){this.node.setStyles({left:normalize(f.left),top:normalize(f.top)})}d.Solitaire.Animation.init(this,g,e)},pushPosition:function(){var e=this.index>=0?this.index:this.stack.cards.indexOf(this);b.pushMove({card:this,index:e,from:this.stack})},moveTo:function(e){var f=this.stack;this.pushPosition();f.deleteItem(this);e.push(this);d.fire(f.field+":afterPop",f);return this},after:function(e){this.callback=e},runCallback:function(){if(this.callback){this.callback.call(this);this.callback=null}}};d.Solitaire.Stack={cards:null,node:null,images:{tableau:"freeslot.png",deck:"freeslot.png",reserve:"freeslot.png",foundation:"freeslot.png"},serialize:function(){var h,e,k=this.cards,g,f=Game.deck.suits,l,j=[];for(h=0,e=k.length;h<e;h++){g=k[h];if(g){l=f.indexOf(g.suit)|g.rank<<2|g.isFaceDown<<6}else{l=128}j.push(String.fromCharCode(l))}return j.join("")},eachCard:function(h){var f,e,g=this.cards;for(f=0,e=g.length;f<e;f++){if(g[f]){if(h.call(this,g[f],f)===false){return false}}}return true},setCards:function(j,f){var h,e,g,l,k=instance(Game.Card,{updatePosition:b.noop,ensureDOM:b.noop});l=this.cards=[];for(h=0;h<j;h++){g=f.call(this,h)||k;this.push(g)}for(h=0;h<j;h++){if(l[h]===k){l[h]=null}}},updateCardsPosition:function(){var e=this.cards;Game.stationary(function(){this.proxy||this.adjustRankHeight();this.setCards(e.length,function(g){var f=e[g];if(f){f.stack=this;f.setRankHeight()}return f})}.bind(this));this.eachCard(function(f){f.updatePosition()})},updateCardsStyle:function(){var e=this.field;e==="foundation"||this.eachCard(function(f){if(f.playable()){f.node.addClass("playable")}else{f.node.removeClass("playable")}})},unserialize:function(g){var f=Game.deck,e=Game.Card;this.setCards(g.length,function(j){var k,h;k=g.charCodeAt(j);if(k===128){h=null}else{h=e.create((k>>2)&15,f.suits[k&3]);k&64?h.faceDown(true):h.faceUp(true)}return h});this.update()},imageSrc:function(){var e=this.images[this.field];return e?b.Card.base.theme+"/"+e:"trans.gif"},layout:function(i){var h=i.hoffset*d.Solitaire.Card.width,f=i.voffset*d.Solitaire.Card.height,g=b.offset,e=this;d.Array.each(["top","left"],function(j){e[j]=normalize(i[j])});this.left+=h+g.left;this.top+=f+g.top},deleteItem:function(e){this.cards.deleteItem(e)},push:function(f,e){var g=this.last(),i=this.field,h=f.stack?f.stack.field:"deck";if(g){f.zIndex=g.zIndex+1}else{if(i==="deck"||i==="foundation"){f.zIndex=200}else{if(h==="deck"){f.zIndex=Game.Card.zIndex}}}if(!e){f.stack=this;this.setCardPosition(f);f.truncatePosition();f.ensureDOM()}this.cards.push(f);e||f.updatePosition({from:h,to:i})},pushStack:function(g){var f=b.activeCard.stack,e=this;f.eachCard(function(h,j){h.index=j});Game.stationary(function(){g.eachCard(function(h){h.moveTo(e);h.index=-1});f.eachCard(function(h){h.index=-1})});f.updateCardsPosition();f.update();d.fire(e.field+":afterPush",e)},adjustRankHeight:function(){var f=this.cards,j,t=this.last(),r=Game.maxStackHeight(),q=0,h=0,k,u=0,p=b.Card,e=0,g=0,o,m,l,n;if(f.length<=1){return}for(l=0,n=f.length-1;l<n;l++){if(!f[l]){return}if(f[l].isFaceDown){q+=p.hiddenRankHeight;e++;u+=p.hiddenRankHeight}else{h+=p.rankHeight;g++;u+=p.rankHeight}}if(t){u+=t.height;k=r-t.height}if(u<=r){this.rankHeight=0;this.hiddenRankHeight=0;return}o=k*(q/(q+h))/e;m=k*(h/(q+h))/g;this.hiddenRankHeight=Math.floor(o);this.rankHeight=Math.floor(m)},first:function(){return this.cards[0]},last:function(){return this.cards.last()},index:function(){return Game[this.field].stacks.indexOf(this)},next:function(){return Game[this.field].stacks[this.index()+1]},setCardPosition:function(e){e.top=this.top;e.left=isNaN(this.left)?null:this.left},wrapperStyle:function(){return{left:Math.floor(this.left),top:Math.floor(this.top),width:Math.floor(d.Solitaire.Card.width),height:Math.floor(d.Solitaire.Card.height)}},updateStyle:function(){var e=this.node;e&&e.setStyles(this.wrapperStyle())},createNode:function(){var e=this.node;e=this.node=d.Node.create("<img class='stack'>").setAttribute("src",this.imageSrc()).setData("target",this).plug(d.Plugin.Drop,{useShim:true});this.updateStyle();b.container().append(e)},cleanup:function(){var e=this.node;e&&e.clearData().destroy(true);this.eachCard(function(f){f.destroyNode()})},updateDragGroups:function(){var j=b.activeCard,h=this.cards,g=this.last(),e,f=h.length-1;this.eachCard(function(i){i.node.drop.removeFromGroup("open")});if(j.validTarget(this)){if(g){g.node.drop.addToGroup("open")}this.node.drop.addToGroup("open")}else{this.node.drop.removeFromGroup("open")}},validCard:function(){return true},validProxy:function(e){return e&&e.validTarget(this)&&this.validCard(e)},update:function(){}};d.Solitaire.Animation={animate:true,dealing:false,duration:0.5,interval:20,queue:new d.AsyncQueue(),init:function(g,m,k){if(!this.animate){g.node.setStyles(m);g.positioned=true;setTimeout(function(){g.runCallback()},0);return}var f=g.node,e=this.queue,j=g.animSpeeds,n={top:f.getStyle("top"),left:f.getStyle("left")}.mapToFloat().mapAppend("px"),l=m.zIndex,i,h;if(n.top===m.top&&n.left===m.left){return}if(this.dealing){i=j.slow}else{if(!k||k.from===k.to||k.to==="waste"||k.to==="foundation"){i=j.fast}else{if(k.from==="deck"){i=j.slow}else{i=j.mid}}}f.setStyle("zIndex",500+l);delete m.zIndex;h=new d.Anim({node:f,from:n,to:m,easing:d.Easing.easeOut,duration:i});h.on("end",function(){g.positioned=true;f.setStyle("zIndex",l);g.runCallback()});e.add(function(){h.run()});e.run()},initQueue:function(){var e=this.queue;e.defaults.timeout=this.interval}};var c={stack:null,clear:function(){this.stack=[]},push:function(e){this.stack.push(e)},pop:function(){return this.stack.pop()||[]},undo:function(){var e;e=d.Array.unique(d.Array.map(this.pop(),this.act).flatten());d.Array.each(e,function(f){if(f){f.updateCardsPosition();f.update(true)}})},act:function(e){var i=e.from,f=e.card,h=f.stack,g=h.cards;if(i){if(i===f.stack){g[g.indexOf(f)]=null}else{g.deleteItem(f)}i.cards[e.index]=f;f.stack=i;b.container().append(f.node)}if("faceDown" in e){e.faceDown?f.faceUp(true):f.faceDown(true)}return[h,i]}}},"0.0.1",{requires:["dd","dd-plugin","dd-delegate","anim","async-queue","cookie","array-extras"]});YUI.add("solitaire-ios",function(e){if(!e.UA.ios){return}var o=e.Solitaire,q=o.scale,r=0,h=1,u={hspacing:0,vspacing:0,left:0,top:0,},c={scale:1,offset:60,maxStackHeight:155},v={Agnes:{offset:[null,5],maxStackHeight:260},FlowerGarden:{offset:[-60,5],maxStackHeight:235},Freecell:{scale:[1,0.93],offset:[35,5]},Golf:{scale:[1.1,1],offset:[45,8]},GClock:{scale:0.93,offset:5,maxStackHeight:130},Klondike:{offset:[null,5],maxStackHeight:[null,340]},MonteCarlo:{scale:[0.88,1],offset:[80,15]},Pyramid:{offset:20},Scorpion:{offset:5,maxStackHeight:[235,380]},Spider:{scale:[1.13,0.79],offset:[5,2],maxStackHeight:[160,340]},TriTowers:{scale:0.9,offset:10},Yukon:{scale:[0.95,1],offset:[50,5],maxStackHeight:[235,390]}},k={Agnes:function(){var z={hspacing:1.13};l(this,"Reserve",e.merge(z,{top:60}));l(this,"Tableau",e.merge(z,{top:145}));l(this,"Foundation",e.merge(z,{left:135}))},FlowerGarden:[function(){this.Card.rankHeight=15;l(this,"Reserve",{top:0,left:70});l(this,"Foundation",{top:0,left:470,hspacing:0,vspacing:1.1});l(this,"Tableau",{top:0,left:140});e.mix(this.Reserve.Stack,{setCardPosition:function(z){var A=this.cards.last(),C=A?A.top+11:this.top,B=this.left;z.left=B;z.top=C},update:o.noop},true)},function(){var z=o.FlowerGarden.Reserve.Stack.setCardPosition;return function(){l(this,"Tableau",{left:10,top:120});l(this,"Reserve",{left:17,top:60});l(this,"Foundation",{left:55,top:0,hspacing:1.5,vspacing:0});e.mix(this.Reserve.Stack,{setCardPosition:z,update:o.noop},true)}}()],Freecell:[x("Freecell",["Foundation","Reserve","Tableau"]),function(){var z={hspacing:1.05};l(this,"Tableau",z);l(this,"Reserve",z);l(this,"Foundation",e.merge(z,{left:157}))}],Golf:[x("Golf",["Tableau","Foundation"]),function(){l(this,"Tableau",{hspacing:1.1});l(this,"Foundation",{left:132})}],GClock:function(){l(this,"Foundation",{left:143,});l(this,"Tableau",{left:0,top:250,hspacing:1.05})},Klondike:[function(){x("Klondike","Foundation").call(this);x("Klondike","Tableau").call(this)},function(){e.mix(this.Foundation.stackConfig.layout,{left:135,hspacing:1.13},true);e.mix(this.Tableau.stackConfig.layout,{hspacing:1.13},true)}],MonteCarlo:function(){l(this,"Tableau",{cardGap:1.1,vspacing:1.05})},Pyramid:[function(){var z=x("Pyramid","Deck");var A=x("Pyramid","Waste");return function(){z.call(this);A.call(this);e.mix(this.Tableau.stackConfig.layout,{left:190,cardGap:1.1,hspacing:-0.55},true)}}(),function(){e.mix(this.Deck.stackConfig.layout,{left:-10,top:300,},true);e.mix(this.Waste.stackConfig.layout,{top:300,},true);e.mix(this.Tableau.stackConfig.layout,{left:120,cardGap:1.1,hspacing:-0.55},true)}],Scorpion:[function(){l(this,"Deck",{top:0,left:0});l(this,"Foundation",{top:0,left:420,hspacing:0,vspacing:1.1});l(this,"Tableau",{left:60,top:0,hspacing:1.13})},function(){l(this,"Deck",{left:10,top:0});l(this,"Foundation",{left:75,top:0,hspacing:1.5,vspacing:0});l(this,"Tableau",{left:0,top:60,hspacing:1.13})}],Spider:[function(){l(this,"Foundation",{left:94,hspacing:1.05});l(this,"Tableau",{top:65,hspacing:1.05})},function(){l(this,"Foundation",{left:62,hspacing:1});l(this,"Tableau",{hspacing:1})}],TriTowers:function(){e.mix(this.Tableau.stackConfig.layout,{hspacing:-0.5,rowGaps:[3,2,1,0],cardGap:1},true)},RussianSolitaire:[x("RussianSolitaire",["Tableau","Foundation"]),function(){l(this,"Tableau",{top:55,hspacing:1.13});l(this,"Foundation",{left:46,top:0,hspacing:1.5,vspacing:0})}],Yukon:[x("Yukon",["Tableau","Foundation"]),function(){l(this,"Tableau",{top:55,hspacing:1.13});l(this,"Foundation",{left:46,top:0,hspacing:1.5,vspacing:0})}]};v.FortyThieves=v.Spider1S=v.Spider2S=v.Spider;k.FortyThieves=k.Spider1S=k.Spider2S=k.Spider;v.WillOTheWisp=v.Spiderette=v.Klondike1T=v.Klondike;k.WillOTheWisp=k.Spiderette=k.Klondike1T=k.Klondike;v.RussianSolitaire=v.Yukon;e.mix(e.DD.DDM,{useHash:false,_pg_activate:o.noop,_pg_size:function(){if(this.activeDrag){this._pg.setStyles({width:"100%",height:"100%"})}}},true);e.DD.DDM.set("throttleTime",40);e.mix(e.DD.Drop.prototype,{_activateShim:function(){var z=e.DD.DDM;if(!z.activeDrag){return false}if(this.get("node")===z.activeDrag.get("node")){return false}if(this.get("lock")){return false}if(this.inGroup(z.activeDrag.get("groups"))){z._addValid(this);this.overTarget=false;if(!this.get("useShim")){this.shim=this.get("node")}this.sizeShim()}else{z._removeValid(this)}},_deactivateShim:function(){this.overTarget=false}},true);o.Statistics.winDisplay=function(){alert("You win!")};o.scale=o.noop;o.Card.ghost=false;o.Animation.animate=false;o.Card.base={theme:"mobile",hiddenRankHeight:3,rankHeight:15,width:40,height:50};function l(z,B,A){e.mix(z[B].stackConfig.layout,A,true)}function x(A,z){var B,C=function(D){return[D,e.merge(u,o[A][D].stackConfig.layout)]};B=e.Array.map(e.Array(z),C);return function(){var D=this;e.each(B,function(E){e.mix(D[E[0]].stackConfig.layout,E[1],true)})}}function b(){var z=o.name(),A;if(k.hasOwnProperty(z)){A=n(k[z]);A.call(o.game)}}function n(A){var z=window.innerWidth===480?r:h,B;if(!A.length){return A}B=A[z];return B?B:A[r]}function m(B){var z=o.name(),A=v[z],D=c[B],C=A?A[B]:D;return n(C?C:D)||D}function y(){q.call(o.game,m("scale"))}function i(){return m("offset")}function g(){return m("maxStackHeight")}function a(A){var z=A.target;if(z.hasClass("stack")||z.hasClass("card")){return}A.preventDefault()}function j(){function z(A){return{deleteSelector:function(C){var D=document.styleSheets[A],E,B;if(!D){return}E=Array.prototype.splice.call(D.rules,0);B=E.indexOf(E.filter(function(F){return F.selectorText===C})[0]);if(B!==-1){D.deleteRule(B)}}}}z(0).deleteSelector("#menu li:hover")}function f(z){if(z.target.test("#descriptions *")){return}z.preventDefault()}function t(){var B,E,C,G,A,F,D,z=function(){G.removeClass("show")};j();G=e.one("#menu");A=e.one("body");B=e.one("#undo");D=e.one("#social");F=e.Node.create("<nav id=navbar>");C=e.Node.create("<a id=show_menu class='button'>New Game</a>");E=e.Node.create("<li class=cancel><a id='cancel'>Cancel</a></li>");B.get("parentNode").remove();C.on("click",function(){G.addClass("show")});G.append(E);F.append(C);if(D){navigator.onLine?F.append(D):D.remove()}F.append(B.addClass("button"));A.append(F);e.on("click",z,["#cancel","#new_deal","#restart"]);o.Application.GameChooser.draggable=false;e.one("#game-chooser .titlebar").append(document.createTextNode("Games"));e.one("#game-chooser .close").append(document.createTextNode("Back"));e.delegate("touchstart",function(H){H.target.ancestor("li",true).addClass("hover")},"#descriptions","li");e.delegate("touchend",function(H){H.target.ancestor("li",true).removeClass("hover")},"#descriptions","li");e.on("gamechooser:select",function(H){H.choose();z()});e.on("gamechooser:hide",function(){w()});if(navigator.standalone){A.addClass("fullscreen")}o.Application.resizeEvent="orientationchange"}function d(A){var z=e.one("body"),C,B;if(A){C="portrait";B="landscape"}else{C="landscape";B="portrait"}z.removeClass(C).addClass(B)}function p(){var z=o.name(),B=window.innerWidth===480,A=g();d(B);b();o.offset={left:i(),top:10};o.maxStackHeight=function(){return A};y()}function w(){setTimeout(function(){scrollTo(0,0)},10)}e.on("beforeSetup",p);e.on("beforeResize",p);e.on("afterResize",w);e.on("load",w);e.on("touchstart",function(z){if(z.target._node===document.body){z.preventDefault()}},document);e.on("touchmove",f,document);e.on("domready",t)},"0.0.1",{requires:["solitaire","statistics"]});YUI.add("auto-stack-clear",function(b){var a=b.Solitaire;b.namespace("Solitaire.AutoStackClear");a.AutoStackClear.register=function(){b.on("solitaire|tableau:afterPush",function(e){d(e,c)})};function d(e,m){var k=e.cards,l,j,g,f,h;if(!k.length){return false}for(h=k.length-1,l=1,j=k[h].suit;h>=0&&l<14;h--,l++){g=k[h];if(g.isFaceDown||g.rank!==l||g.suit!==j){return false}}f=l===14;f&&typeof m==="function"&&m(e,h+1);return f}function c(e,i){var f,h=e.cards,g=h.length-i;f=b.Array.find(a.game.foundation.stacks,function(j){return !j.cards.length});a.stationary(function(){while(g){h.last().moveTo(f);g--}});e.updateCardsPosition()}},"0.0.1",{requires:["solitaire"]});YUI.add("auto-turnover",function(a){a.on("tableau:afterPop",function(b){a.Array.each(b.cards,function(c){if(c&&c.isFaceDown&&c.isFree()){c.faceUp()}})})},"0.0.1",{requires:["solitaire"]});YUI.add("solitaire-autoplay",function(h){h.namespace("Solitaire.Autoplay");var d=h.Solitaire,f=d.Autoplay,g=true,b=null,a=["Klondike","Klondike1T","FortyThieves","GClock","Freecell","FlowerGarden","Yukon"];h.on("endTurn",function(){if(!g||a.indexOf(d.game.name())===-1){return}if(b===null&&e()){h.fire("autoPlay")}});h.on("win",function(){clearInterval(b);b=null});h.on("autoPlay",function(){b=setInterval(c,130)});function c(){var i=false;d.game.eachStack(function(j){var k=j.field;if(i||k==="foundation"||k==="deck"){return}i=!j.eachCard(function(l){return !l.autoPlay()})})}function e(){var i=false;d.game.eachStack(function(j){var l=j.field,k=14,m;if(i||l!=="tableau"&&l!=="waste"){return}m=j.eachCard(function(n){if(n.rank>k||n.isFaceDown){i=true;return false}else{k=n.rank}})});return !i}h.mix(f,{enable:function(){g=true},disable:function(){g=false}})},"0.0.1",{requires:["solitaire"]});YUI.add("solitaire-background-fix",function(d){var c;d.on("load",b);d.on("resize",b);function b(){var g=a().get("winWidth"),e=a().get("winHeight"),f=document.body.style;if(!d.UA.mobile){a().setStyles({width:g,height:e})}if(f.backgroundSize===undefined&&f.MozBackgroundSize===undefined){a().setStyles({backgroundImage:"url(greentiled.jpg)",backgroundRepeat:"repeat"})}}function a(){if(!c){c=new d.Node(document.body)}return c}},"0.0.1",{requires:["solitaire"]});YUI.add("statistics",function(c){var g,i,l=true,o=window.localStorage,e=c.Solitaire,b=c.namespace("Solitaire.Statistics");if(!o){return}c.on("newGame",function(){if(g){d()}i=false;g=null});c.on("loadGame",function(){g=e.game.name();f();i=false});c.on("endTurn",function(){if(!g){g=e.game.name();f()}});c.on("win",function(){if(i||!l){return}var p=1000;g=null;i=true;k();j()});c.on("beforeSetup",function(){var p=c.one("#win_display");p&&p.remove();b.enable()});function j(){var q=500,r=900,p=900;Game.eachStack(function(t){t.eachCard(function(u){if(!u){return}var v=u.node;if(u!==t.last()){v.addClass("hidden");return}v.plug(c.Breakout,{columns:5});(function(w){setTimeout(function(){w.breakout.explode({random:0.65,duration:r})},q)})(v);q+=p})},"foundation");setTimeout(function(){b.winDisplay()},q+200)}function n(){var v={Agnes:"Agnes",Klondike:"Klondike",Klondike1T:"Klondike (Vegas style)",FlowerGarden:"Flower Garden",FortyThieves:"Forty Thieves",Freecell:"Freecell",Golf:"Golf",GClock:"Grandfather's Clock",MonteCarlo:"Monte Carlo",Pyramid:"Pyramid",RussianSolitaire:"Russian Solitaire",Scorpion:"Scorpion",Spider:"Spider",Spider1S:"Spider (1 Suit)",Spider2S:"Spider (2 Suit)",Spiderette:"Spiderette",WillOTheWisp:"Will O' The Wisp",TriTowers:"Tri Towers",Yukon:"Yukon"},u=m(o[e.game.name()+"record"]),t,r,q,p="<div id='win_display'>";t=u.streaks().last().length;r=u.wins().length;q=u.loses().length;p+="<p>You win! You're awesome.</p>";p+="<h2>"+v[e.game.name()]+" stats:</h2>";p+="<ul>";p+="<li>Current win streak: <span class='streak'>"+t+"</li>";p+="<li>Total wins: <span class='wins'>"+r+"</li>";p+="<li>Total loses: <span class='loses'>"+q+"</li>";p+="<div class=replay_options><button class=new_deal>New Deal</button><button class=choose_game>Choose Game</button></div>";p+="</ul></div>";return p}function h(r){var q=o.currentGame+"record",p=o[q]||"";p+=new Date().getTime()+"_"+r+"|";o[q]=p}function d(){h(0);a()}function k(){h(1);a()}function a(){o.removeItem("currentGame")}function f(){o.currentGame=e.game.name()}function m(q){function t(){var u=q.split("|");u.splice(u.length-1);return c.Array.map(u,function(v){v=v.split("_");return{date:new Date(v[0]),won:!!parseInt(v[1],10)}})}function r(u){return u.won}var p=t();return{streaks:function(){var v=[],u=null;c.Array.each(p,function(w){if(!w.won){u&&v.push(u);u=null}else{if(!u){u=[]}u.push(w)}});u&&v.push(u);return v},wins:function(){return c.Array.filter(p,r)},loses:function(){return c.Array.reject(p,r)}}}c.mix(b,{winDisplay:function(){var p=e.Application;c.one("body").append(n());c.on("click",function(){p.newGame()},c.one("#win_display .new_deal"));c.on("click",function(){p.GameChooser.show(true)},c.one("#win_display .choose_game"))},enable:function(){l=true},disable:function(){l=false}})},"0.0.1",{requires:["solitaire","array-extras","breakout"]});YUI.add("solver-freecell",function(a){a.namespace("Solitaire.Solver.Freecell");if(!(window.Worker&&window.ArrayBuffer&&window.Uint8Array)){return}var d=a.Solitaire,k=d.Solver.Freecell,b={s:0,h:1,c:2,d:3};function h(o){return o?o.rank<<2|b[o.suit]:0}function m(o){return o>>2}function e(o){return["s","h","c","d"][o&3]}function n(p,o){return o[0]-p[0]}function f(o){return a.Array.map(o.stacks,function(p){return p}).sort(function(r,p){var t=r.first(),q=p.first();return h(t)-h(q)})}function g(p){var o,q,r;r=a.Array.map(f(p.tableau),function(u){var t=[];u.eachCard(function(w,v){t[v]=h(w)});return[t,u.cards.length]});o=[];a.Array.forEach(f(p.reserve),function(u,t){o[t]=h(u.last())});q=[];a.Array.forEach(f(p.foundation),function(u,t){q[t]=h(u.last())});return{reserve:o,foundation:q,tableau:r}}function c(p,o){var u=o.source,r=o.dest,t,q={};t=u[1];p.eachStack(function(v){if(q.card){return}var w=v.last();if(!w){return}if(w.rank===m(t)&&w.suit===e(t)){q.card=w}},u[0]);t=r[1];p.eachStack(function(v){if(q.stack){return}var w=v.last();if(!(w||t)){q.stack=v}if(w&&(w.rank===m(t)&&w.suit===e(t))){q.stack=v}},r[0]);return q}function j(o,q){var p=a.one(o);if(p){q(p)}}var i={interval:500,timer:null,remainingMoves:null,init:function(o){var p=o;while(p){if(p.next){p.next.prev=p}p=p.next}this.remainingMoves=o},pause:function(){d.Autoplay.enable();window.clearTimeout(this.timer);this.timer=null;j("#solver_bar .pause",function(o){o.removeClass("pause");o.addClass("play")})},playCurrent:function(q){var o,r,p;if(!this.remainingMoves){return}o=c(q,this.remainingMoves);r=o.card;if(!r){return}p=r.stack;r.after(function(){p.updateCardsPosition();o.stack.updateCardsPosition()});r.moveTo(o.stack)},prev:function(o){var p=this.remainingMoves.prev;if(p){a.fire("undo",true);this.remainingMoves=p}},next:function(o){var q=this.remainingMoves,p=this.remainingMoves.next;d.Statistics.disable();this.playCurrent(o);if(p){this.remainingMoves=p}a.fire("endTurn",true)},play:function(q){var o,r,p;if(!this.remainingMoves){return}d.Autoplay.disable();j("#solver_bar .play",function(t){t.removeClass("play");t.addClass("pause")});this.next(q);this.timer=window.setTimeout(function(){this.play(q)}.bind(this),this.interval)}};var l={bar:null,indicator:null,indicatorTimer:null,indicatorInterval:750,delay:400,updateIndicator:function(q){var o=this.indicator,p,r;if(!o){return}q=((q||0)%4);r="Solving";for(p=0;p<q;p++){r+="."}o.set("text",r);this.indicatorTimer=window.setTimeout(this.updateIndicator.partial(q+1).bind(this),this.indicatorInterval)},stopIndicator:function(p){var o=this.indicator;window.clearTimeout(this.indicatorTimer);if(!o){return}if(p){o.set("text","Solution found");j("#solver_bar .controls",function(q){q.removeClass("hidden")})}else{o.set("text","Unable to find solution")}this.indicatorTimer=null},show:function(){if(a.one("#solver_bar")){return}var u=a.Node.create("<div id=solver_bar></div>"),o=a.Node.create("<span class=indicator>"),r=a.Node.create("<div class=fastforward>"),t=a.Node.create("<div class=rewind>"),v=a.Node.create("<div class=play>"),p=a.Node.create("<div class='controls hidden'>"),q;r.on("click",function(){i.next(Game)});t.on("click",function(){i.prev(Game)});v.on("click",function(){if(this.hasClass("play")){i.play(Game)}else{if(this.hasClass("pause")){i.pause()}}});p.append(t);p.append(v);p.append(r);u.append(o);u.append(p);a.one("body").append(u);this.indicator=o;this.bar=u},hide:function(){if(this.bar){this.bar.remove()}}};a.mix(k,{currentSolution:null,worker:null,attached:false,supportedGames:["Freecell"],isSupported:function(){return this.supportedGames.indexOf(Game.name())!==-1},enable:function(){if(this.isSupported()){this.createUI()}this.attachEvents()},disable:function(){if(this.worker){this.worker.terminate()}l.hide()},attachEvents:function(){if(this.attached){return}var o=i.pause.bind(i);a.on("afterSetup",function(){if(this.isSupported()){this.solve()}else{this.disable()}}.bind(this));a.on("endTurn",function(p){if(p||!this.isSupported()){return}this.solve()}.bind(this));a.on("autoPlay",function(){k.disable()});a.on("win",function(){k.disable()});document.documentElement.addEventListener("mousedown",function(p){if(p.target.className.match(/\bpause\b/)){return}o()},true);this.attached=true},createUI:function(){l.show()},stop:function(){if(this.worker){this.worker.terminate()}},solve:function(){this.stop();j("#solver_bar .controls",function(o){o.addClass("hidden")});this.currentSolution=null;this.worker=new Worker("js/solver-freecell-worker.js");this.worker.onmessage=function(p){var o=this.currentSolution=p.data.solution;i.init(o);if(o){l.stopIndicator(true)}else{l.stopIndicator(false)}}.bind(this);this.worker.postMessage({action:"solve",param:g(Game)});window.clearTimeout(l.indicatorTimer);l.indicatorTimer=window.setTimeout(l.updateIndicator.bind(l),l.delay)}});a.on("beforeSetup",k.enable.bind(k))},"0.0.1",{requires:["solitaire"]});var attempts=0,maxFastAttempts=150000;function GameState(c){if(!c){return}var b,a;this.reserve=new Uint8Array(c.reserve);this.foundation=new Uint8Array(c.foundation);this.tableau=[];for(b=0;b<c.tableau.length;b++){a=c.tableau[b];this.tableau[b]=[new Uint8Array(a[0]),a[1]]}}GameState.fromState=function(a){var b=new GameState();b.tableau=a.tableau;b.reserve=a.reserve;b.foundation=a.foundation;return b};GameState.prototype={reserve:null,foundation:null,tableau:null,rating:null,parentMove:null,parent:null,child:null,solved:function(){var c,a,b=this.foundation;for(c=0,a=4;c<a;c++){if((b[c]>>2)!==13){return false}}return true},eachTableau:function(e){var d,b,a,c=this.tableau;for(d=0,b=c.length;d<b;d++){a=c[d];e.call(this,a[0],a[1],d)}},validTarget:function(f,g,a){var c=g>>2,j=g&3,h,b,d,e;if(!g){return -1}if(a===undefined){a=0}else{a++}switch(f){case"foundation":for(d=0;d<4;d++){h=this.foundation[d];if((!h&&c===1)||(j===(h&3)&&c===(h>>2)+1)){return d}}break;case"reserve":for(d=0;d<4;d++){if(!this.reserve[d]){return d}}break;case"tableau":b=this.tableau;for(d=a,e=b.length;d<e;d++){h=b[d][0][b[d][1]-1];if(!b[d][1]||(((j&1)^(h&1))&&(c===(h>>2)-1))){return d}}break}return -1},move:function(b,d,c,a){var e=this.pop(b,d);this.push(c,a,e)},pop:function(g,b){var h,c,f,e,d,a;if(g==="reserve"||g==="foundation"){h=this[g][b];this[g]=new Uint8Array(this[g]);this[g][b]=0;return h}e=this.tableau;f=e[b][1];if(!f){return 0}h=e[b][0][f-1];this.copyTableau(b,f-1);return h},push:function(c,a,d){var b;if(!d){return}if(c==="reserve"||c==="foundation"){this[c]=new Uint8Array(this[c]);this[c][a]=d;return}b=this.tableau[a][1]+1;this.copyTableau(a,b);this.tableau[a][0][b-1]=d},copyTableau:function(b,g){var c=this.tableau,f=c[b][0],d=new Uint8Array(new ArrayBuffer(g)),e,a;for(e=0;e<g;++e){d[e]=f[e]}this.tableau=[];for(e=0,a=c.length;e<a;++e){if(e!==b){this.tableau[e]=c[e]}else{this.tableau[e]=[d,g]}}},sort:function(){Array.prototype.sort.call(this.reserve);Array.prototype.sort.call(this.foundation);this.tableau.sort(function(d,c){return d[0][0]-c[0][0]})},_serialized:null,serialize:function(){if(this._serialized!==null){return this._serialized}var d,c,b,a;this._serialized="";for(d=0;d<4;d++){this._serialized+=String.fromCharCode(this.reserve[d])}this._serialized+="_";for(d=0;d<4;d++){this._serialized+=String.fromCharCode(this.foundation[d])}this._serialized+="_";for(d=0;d<8;d++){a=this.tableau[d];for(c=0;c<a[1];c++){this._serialized+=String.fromCharCode(a[0][c])+"_"}}return this._serialized},rateMove:function(u,e,p,w){var b=1000,j=20,o=15,r=15,l=10,a=10,v=2,f=-1,h=-5,n=-10,k=0,g,c,m,t=false,q,d;if(p==="foundation"){k+=b}if(u==="tableau"){g=this.tableau[e];d=g[1];c=g[0][d-1];if(d===1){k+=r}for(q=d-2;q>=0;q--){if(this.validTarget("foundation",g[0][q])>-1){k+=o-(d-2-q)+(13-(g[0][q]>>2))}}if(this.validTarget("tableau",g[0][d-2])>-1){k+=l}}if(u==="reserve"){k+=a;c=this.reserve[e]}if(p==="tableau"){k+=v;g=this.tableau[w];d=g[1];for(q=d-1;q>=0;q--){if(this.validTarget("foundation",g[0][q])>-1){k+=h*(d-q)}}if(g[1]===0){if(u==="tableau"&&this.tableau[e][1]===1){return -1000}for(q=0;q<4;q++){m=this.reserve[q];if(((m>>2)===(c>>2)-1)&&((m&1)^(c&1))){k+=j+(m>>2);t=true}}for(q=0;q<8;q++){g=this.tableau[q];m=g[0][g[1]-1];if(((m>>2)===(c>>2)-1)&&((m&1)^(c&1))){k+=j+(m>>2);t=true}}if(!t){k+=n}}}if(p==="reserve"){k+=f}return k},transformParentMove:function(){var a=this.parentMove,b=this.parent;if(!(a&&b)){return}a.source[1]=b.lastCard(a.source[0],a.source[1]);a.dest[1]=b.lastCard(a.dest[0],a.dest[1])},lastCard:function(d,b){var a,c;switch(d){case"reserve":case"foundation":return this[d][b];case"tableau":a=this[d][b];c=a[1];return a[0][c-1]}},becomeChild:function(){var a=this.parent;if(!a){return}a.child=this;this.transformParentMove()}};function solve(d,t,m,k,j){var f,a=200,b,q,c,u,g,p,l,e,h,v=[],r=1,o=false,n;if(t>a){return a}if(d.solved()){d.becomeChild();return 0}for(n=0;n<4;n++){u=d.reserve[n];if(!u){continue}q=d.validTarget("foundation",u);if(q>-1){v.push({source:["reserve",n],dest:["foundation",q]});o=true}if(o){break}q=0;while((q=d.validTarget("tableau",u,q))>-1){v.push({source:["reserve",n],dest:["tableau",q]})}}e=d.tableau;for(n=0;n<e.length;n++){s=e[n][0];c=e[n][1];u=s[c-1];if(!u){continue}q=d.validTarget("foundation",u);if(q>-1){v.push({source:["tableau",n],dest:["foundation",q]});o=true}if(o){break}q=d.validTarget("reserve",u);if(q>-1){v.push({source:["tableau",n],dest:["reserve",q]})}q=0;while((q=d.validTarget("tableau",u,q))>-1){v.push({source:["tableau",n],dest:["tableau",q]})}}if(o){k=0}else{k++}for(n=0;n<v.length;n++){h=v[n];g=GameState.fromState(d);p=h.source[0];b=h.source[1];l=h.dest[0];q=h.dest[1];g.rating=g.rateMove(p,b,l,q);g.move(p,b,l,q);g.parentMove=h;g.parent=d;v[n]=g}v.sort(function(w,i){return i.rating-w.rating});if(k>=20){r=0.7}if(j&&(++attempts>maxFastAttempts)){r=0.001}for(n=0;n<v.length&&r===1;n++){h=v[n];if(f<t){break}if(m[h.serialize()]){if(j){break}else{continue}}m[h.serialize()]=true;f=solve(h,t+1,m,k,j)}if(f===0){d.becomeChild()}if(f===undefined){f=Math.ceil(t*r)}return f}function mapMoves(b){var d=b.child,a=null,c;if(!d){return}a=c=d.parentMove;while(d=d.child){c.next=d.parentMove;c=c.next}return a}function attemptSolution(c,b){var a=new GameState(c);attempts=0;solve(a,1,{},0,b);return mapMoves(a)}onmessage=function(d){var c,a,b=d.data;if(b.action==="solve"){a=attemptSolution(b.param,true);if(!a){a=attemptSolution(b.param,false)}self.postMessage({solution:a})}};YUI.add("agnes",function(f){function e(h,g){return(h+1)%13===g%13}function b(){return c.foundation.stacks[0].first().rank}var d=f.Solitaire,a=d.Klondike,c=d.Agnes=instance(a,{fields:["Foundation","Deck","Waste","Tableau","Reserve"],height:function(){return this.Card.base.height*5.6},maxStackHeight:function(){return this.Card.height*4.3},deal:function(){var g=this.deck.stacks[0],h=this.foundation.stacks[0];a.deal.call(this);g.last().faceUp().moveTo(h);this.turnOver()},redeal:d.noop,turnOver:function(){var g=this.deck.stacks[0],l=this.reserve.stacks,j=this.waste.stacks,k,m,h;if(g.cards.length<7){k=2;m=j}else{k=7;m=l}for(h=0;h<k;h++){g.last().faceUp().moveTo(m[h])}},Waste:instance(a.Waste,{stackConfig:{total:2,layout:{hspacing:1.5,top:0,left:0}},Stack:instance(d.Stack,{setCardPosition:function(g){var h=this.last(),j=this.top,i=h?h.left+d.Card.width*1.5:this.left;g.top=j;g.left=i}})}),Reserve:{field:"reserve",stackConfig:{total:7,layout:{hspacing:1.25,left:0,top:function(){return d.Card.height*4.4}}},Stack:instance(a.Stack,{images:{},setCardPosition:function(g){var h=this.last(),j=h?h.top+h.rankHeight:this.top,i=this.left;g.top=j;g.left=i}})},Card:instance(a.Card,{playable:function(){if(this.stack.field==="reserve"){return this.isFree()}else{return a.Card.playable.call(this)}},validTarget:function(g){var h=g.last();switch(g.field){case"tableau":if(!h){return e(this.rank,b())}else{return !h.isFaceDown&&h.color!==this.color&&e(this.rank,h.rank)}case"foundation":return this.validFoundationTarget(h);default:return false}},validFoundationTarget:function(g){if(!g){return this.rank===b()}else{return this.suit===g.suit&&this.rank%13===(g.rank+1)%13}}})})},"0.0.1",{requires:["klondike"]});YUI.add("golf",function(c){var b=c.Solitaire,a=c.Solitaire.Golf=instance(b,{fields:["Deck","Foundation","Tableau"],deal:function(){var g,d,h=this.tableau.stacks,e=this.deck,f=this.foundation.stacks[0],i;for(i=0;i<5;i++){for(d=0;d<7;d++){g=e.pop().faceUp();h[d].push(g)}}g=e.pop().faceUp();f.push(g);e.createStack()},turnOver:function(){var d=this.deck.stacks[0],e=this.foundation.stacks[0],f=d.last();f&&f.faceUp().moveTo(e)},isWon:function(){var d=true;this.eachStack(function(e){e.eachCard(function(f){if(f){d=false}return d})},"tableau");return d},height:function(){return this.Card.base.height*4},Deck:instance(b.Deck,{field:"deck",stackConfig:{total:1,layout:{hspacing:0,top:function(){return b.Card.height*3},left:0}},createStack:function(){var e,d;for(e=0,d=this.cards.length;e<d;e++){this.stacks[0].push(this.cards[e])}}}),Tableau:{field:"tableau",stackConfig:{total:7,layout:{hspacing:1.25,top:0,left:0}}},Foundation:{field:"foundation",stackConfig:{total:1,layout:{hspacing:0,top:function(){return b.Card.height*3},left:function(){return b.Card.width*3.75}}}},Events:instance(b.Events,{dragCheck:function(d){this.getCard().autoPlay();this._afterDragEnd();d.halt()}}),Card:instance(b.Card,{validTarget:function(d){if(d.field!=="foundation"){return false}var f=d.last(),e=Math.abs(this.rank-f.rank);return e===1},isFree:function(){return !this.isFaceDown&&this===this.stack.last()},}),Stack:instance(b.Stack,{images:{}})},true);c.Array.each(a.fields,function(d){a[d].Stack=instance(a.Stack)});c.mix(a.Tableau.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.top+e.rankHeight:this.top,f=this.left;d.left=f;d.top=g}},true);c.mix(a.Deck.Stack,{setCardPosition:function(d){var e=this.last(),g,f,h;g=this.top;if(e){f=e.left+d.width*0.1;h=e.zIndex+1}else{f=this.left;h=0}d.top=g;d.left=f;d.zIndex=h}},true)},"0.0.1",{requires:["solitaire"]});YUI.add("klondike",function(c){var b=c.Solitaire,a=c.Solitaire.Klondike=instance(b,{fields:["Foundation","Deck","Waste","Tableau"],deal:function(){var g,e=6,d=0,f=this.deck,h=this.tableau.stacks;while(e>=0){g=f.pop().faceUp();h[6-e].push(g);for(d=7-e;d<7;d++){g=f.pop();h[d].push(g)}e--}f.createStack()},turnOver:function(){var d=this.deck.stacks[0],g=this.waste.stacks[0],j=a.Card.updatePosition,h,f,e;a.Card.updatePosition=b.noop;for(f=d.cards.length,e=f-3;f>e&&f;f--){d.last().faceUp().moveTo(g)}a.Card.updatePosition=j;g.eachCard(function(i){i.updatePosition()})},redeal:function(){var d=this.deck.stacks[0],e=this.waste.stacks[0];while(e.cards.length){e.last().faceDown().moveTo(d)}},Stack:instance(b.Stack),Foundation:{stackConfig:{total:4,layout:{hspacing:1.25,top:0,left:function(){return b.Card.width*3.75}}},field:"foundation",},Deck:instance(b.Deck,{stackConfig:{total:1,layout:{hspacing:0,top:0,left:0}},field:"deck"}),Waste:{stackConfig:{total:1,layout:{hspacing:0,top:0,left:function(){return b.Card.width*1.5}}},field:"waste",},Tableau:{stackConfig:{total:7,layout:{hspacing:1.25,top:function(){return b.Card.height*1.5},left:0}},field:"tableau",},Card:instance(b.Card,{playable:function(){switch(this.stack.field){case"tableau":return !this.isFaceDown;case"foundation":return false;case"waste":return this.isFree();case"deck":return true}},validFoundationTarget:function(d){if(!d){return this.rank===1}else{return d.suit===this.suit&&d.rank===this.rank-1}},validTarget:function(d){var e=d.last();switch(d.field){case"tableau":if(!e){return this.rank===13}else{return !e.isFaceDown&&e.color!==this.color&&e.rank===this.rank+1}case"foundation":return this.validFoundationTarget(e);default:return false}}})});c.Array.each(a.fields,function(d){a[d].Stack=instance(a.Stack)});c.mix(a.Stack,{validTarget:function(d){return d.field==="tableau"&&this.first().validTarget(d)}},true);c.mix(a.Tableau.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.top+e.rankHeight:this.top,f=this.left;d.left=f;d.top=g}},true);c.mix(a.Waste.Stack,{setCardPosition:function(e){var g=this.cards,f=g.last(),d=this;c.Array.each(g.slice(-2),function(h,j){h.left=d.left;h.top=d.top});if(!g.length){e.left=d.left}if(g.length===1){e.left=d.left+0.2*e.width}else{if(g.length>1){f.left=d.left+0.2*e.width;f.top=d.top;e.left=d.left+0.4*e.width}}e.top=d.top}},true);c.mix(a.Deck.Stack,{createNode:function(){b.Stack.createNode.call(this);this.node.on("click",b.Events.clickEmptyDeck);this.node.addClass("playable")}},true)},"0.0.1",{requires:["solitaire"]});YUI.add("klondike1t",function(d){var c=d.Solitaire,b=c.Klondike,a=c.Klondike1T=instance(b,{redeal:c.noop,turnOver:function(){var e=this.deck.stacks[0],g=this.waste.stacks[0],f=e.last();f&&f.faceUp().moveTo(g)},Waste:instance(b.Waste,{Stack:instance(c.Stack)}),Deck:instance(b.Deck,{Stack:instance(b.Deck.Stack,{createNode:function(){b.Deck.Stack.createNode.call(this);this.node.removeClass("playable")}})})})},"0.0.1",{requires:["klondike"]});YUI.add("flower-garden",function(b){var a=b.Solitaire,c=b.Solitaire.FlowerGarden=instance(a,{fields:["Foundation","Reserve","Tableau"],deal:function(){var g,f=this.deck,e=this.reserve.stacks[0],d=0,h,j=this.tableau.stacks;for(h=0;h<36;h++){g=f.pop();j[d].push(g.faceUp());d++;if(d===6){d=0}}while(g=f.pop()){g.faceUp();e.push(g)}},height:function(){return this.Card.base.height*5.5},maxStackHeight:function(){return this.Card.height*4.4},Stack:instance(a.Stack),Foundation:{stackConfig:{total:4,layout:{hspacing:1.25,top:0,left:function(){return a.Card.width*4.25}}},field:"foundation",draggable:false},Reserve:{stackConfig:{total:1,layout:{hspacing:1.25,top:function(){return a.Card.height*4.5},left:function(){return a.Card.width*3}}},field:"reserve",draggable:true},Tableau:{stackConfig:{total:6,layout:{hspacing:1.25,top:function(){return a.Card.height*1.25},left:function(){return a.Card.width*3}}},field:"tableau",draggable:true},Card:instance(a.Card,{rankHeight:24,createProxyStack:function(){var d;switch(this.stack.field){case"foundation":this.proxyStack=null;break;case"tableau":return a.Card.createProxyStack.call(this);case"reserve":d=instance(this.stack);d.cards=[this];this.proxyStack=d;break}return this.proxyStack},moveTo:function(e){var h=this.stack.cards,f=h.indexOf(this),g,d;a.Card.moveTo.call(this,e);h.splice(f,0,null);for(g=f+1,d=h.length;g<d;g++){h[g].pushPosition()}h.splice(f,1)},validTarget:function(d){var e=d.last();switch(d.field){case"tableau":if(!e){return true}else{return e.rank===this.rank+1}break;case"foundation":if(!e){return this.rank===1}else{return e.suit===this.suit&&e.rank===this.rank-1}break;default:return false;break}},isFree:function(){if(this.stack.field==="reserve"){return true}else{return a.Card.isFree.call(this)}}})},true);b.Array.each(c.fields,function(d){c[d].Stack=instance(c.Stack)},true);b.mix(c.Stack,{images:{foundation:"freeslot.png",tableau:"freeslot.png"},validTarget:function(d){return d.field==="tableau"&&this.first().validTarget(d)},validCard:function(){return false}},true);b.mix(c.Tableau.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.top+a.game.Card.rankHeight:this.top,f=this.left;d.left=f;d.top=g}},true);b.mix(c.Reserve.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.left+a.Card.width*0.4:this.left,f=this.top;d.left=g;d.top=f},update:function(e){if(e){return}var d=this,f;b.Array.each(this.cards,function(g,h){f=d.left+h*g.width*0.4;if(f!==g.left){g.left=f;g.updatePosition()}})}},true)},"0.0.1",{requires:["solitaire"]});YUI.add("forty-thieves",function(c){var a=c.Solitaire,b=c.Solitaire.FortyThieves=instance(a,{fields:["Foundation","Deck","Waste","Tableau"],deal:function(){var f,d,h,e=this.deck,g=this.tableau.stacks;for(h=0;h<4;h++){for(d=0;d<10;d++){f=e.pop().faceUp();g[d].push(f)}}e.createStack()},redeal:function(){},turnOver:function(){var d=this.deck.stacks[0],g=this.waste.stacks[0],f,e;for(f=d.cards.length,e=f-1;f>e&&f;f--){d.last().faceUp().moveTo(g)}},Stack:instance(a.Stack),Foundation:{stackConfig:{total:8,layout:{hspacing:1.25,top:0,left:function(){return a.Card.width*3}}},field:"foundation",draggable:false},Deck:instance(a.Deck,{count:2,stackConfig:{total:1,layout:{hspacing:0,top:0,left:0}},field:"deck",init:function(){a.Deck.init.call(this);c.Array.each(this.cards,function(d){d.faceDown()})},createStack:function(){var e,d;for(e=this.cards.length-1;e>=0;e--){this.stacks[0].push(this.cards[e])}},}),Waste:{stackConfig:{total:1,layout:{hspacing:0,top:0,left:function(){return a.Card.width*1.25}}},field:"waste",draggable:true},Tableau:{stackConfig:{total:10,layout:{hspacing:1.31,top:function(){return a.Card.height*1.5},left:0}},field:"tableau",draggable:true},Card:instance(a.Card,{validTarget:function(d){var e=d.last();switch(d.field){case"tableau":if(!e){return this.rank===13}else{return !e.isFaceDown&&e.suit===this.suit&&e.rank===this.rank+1}break;case"foundation":if(!e){return this.rank===1}else{return e.suit===this.suit&&e.rank===this.rank-1}break;default:return false}}})});c.Array.each(b.fields,function(d){b[d].Stack=instance(b.Stack)});c.mix(b.Stack,{cssClass:"freestack",validTarget:function(d){return d.field==="tableau"&&this.first().validTarget(d)},validCard:function(){return false}},true);c.mix(b.Tableau.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.top+e.rankHeight:this.top,f=this.left;d.left=f;d.top=g}},true);c.mix(b.Deck.Stack,{createDOMElement:function(){a.Stack.createDOMElement.call(this);this.node.on("click",a.Events.clickEmptyDeck)}},true);b.Foundation.Stack.cssClass="freefoundation"},"0.0.1",{requires:["solitaire"]});YUI.add("freecell",function(c){var b=c.Solitaire,a=c.Solitaire.Freecell=instance(b,{fields:["Foundation","Reserve","Tableau"],deal:function(){var e,d=0,f=this.tableau.stacks;while(e=this.deck.pop()){f[d].push(e.faceUp());d++;if(d===8){d=0}}},openSlots:function(g){var j=1,e=0,h,d,k=this.reserve.stacks,f=this.tableau.stacks;for(h=0;h<4;h++){d=k[h];!d.last()&&j++}for(h=0;h<8;h++){d=f[h];g!==d&&!f[h].last()&&e++}j*=Math.pow(2,e);return j},Stack:instance(b.Stack),height:function(){return this.Card.base.height*5},Foundation:{stackConfig:{total:4,layout:{hspacing:1.25,top:0,left:function(){return b.Card.width*6}}},field:"foundation",draggable:false},Reserve:{stackConfig:{total:4,layout:{hspacing:1.25,top:0,left:0}},field:"reserve",draggable:true},Tableau:{stackConfig:{total:8,layout:{hspacing:1.25,top:function(){return b.Card.height*1.5},left:0}},field:"tableau",draggable:true},Card:instance(b.Card,{playable:function(){switch(this.stack.field){case"reserve":return true;case"tableau":return this.createProxyStack();case"foundation":return false}},createProxyStack:function(){var d=b.Card.createProxyStack.call(this);this.proxyStack=d&&d.cards.length<=a.openSlots(d)?d:null;return this.proxyStack},validTarget:function(d){var e=d.last();switch(d.field){case"tableau":if(!e){return true}else{return e.color!==this.color&&e.rank===this.rank+1}break;case"foundation":if(!e){return this.rank===1}else{return e.suit===this.suit&&e.rank===this.rank-1}break;case"reserve":return !e;break}}})});c.Array.each(a.fields,function(d){a[d].Stack=instance(a.Stack)},true);c.mix(a.Stack,{validTarget:function(d){if(d.field!=="tableau"||!this.first().validTarget(d)){return false}return this.cards.length<=a.openSlots(d,this.last())}},true);c.mix(a.Tableau.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.top+e.rankHeight:this.top,f=this.left;d.left=f;d.top=g}},true)},"0.0.1",{requires:["solitaire"]});YUI.add("grandfathers-clock",function(e){function b(h,g){var f=h.length;g%=f;if(g<0){g+=f}return h[g]}function d(f,h,g){if(f<=h){return f<=g&&g<=h}else{return f<=g||g<=h}}e.namespace("Solitaire.GClock");var c=e.Solitaire,a=e.Solitaire.GClock=instance(c,{fields:["Foundation","Tableau"],deal:function(){var k,o=this.deck,g=o.cards,j=[],p=["d","c","h","s"],q,n=0,m=51,l,f=this.foundation.stacks,h=this.tableau.stacks;while(m>=0){k=g[m];q=false;for(l=2;l<=13;l++){if(k.rank===l&&k.suit===b(p,l)){q=true;g.splice(m,1);j[l-2]=k.faceUp();break}}if(!q){h[n].push(k.faceUp());n=(n+1)%8}m--}for(m=0;m<12;m++){f[(m+2)%12].push(j[m])}},height:function(){return this.Card.base.height*6.7},Stack:instance(c.Stack),Foundation:{stackConfig:{total:12,layout:{hspacing:1.25,top:function(){return c.Card.height*3},left:function(){return c.Card.width*3.25}}},field:"foundation",draggable:false},Tableau:{stackConfig:{total:8,layout:{hspacing:1.25,top:0,left:function(){return c.Card.width*7.25}}},field:"tableau",draggable:true},Card:instance(c.Card,{createProxyStack:function(){var f;switch(this.stack.field){case"foundation":this.proxyStack=null;break;case"tableau":return c.Card.createProxyStack.call(this)}return this.proxyStack},validTarget:function(f){var h=f.last(),i,g;switch(f.field){case"tableau":if(!h){return true}else{return h.rank===this.rank+1}break;case"foundation":g=(f.index()+3)%12;i=h.rank;return h.suit===this.suit&&(h.rank+1)%13===this.rank%13&&d(f.first().rank,g,this.rank);break;default:return false;break}}})});e.Array.each(a.fields,function(f){a[f].Stack=instance(a.Stack)},true);e.mix(a.Stack,{validTarget:function(f){return f.field==="tableau"&&this.first().validTarget(f)},validCard:function(){return false}},true);e.mix(a.Tableau.Stack,{setCardPosition:function(f){var g=this.cards.last(),i=g?g.top+g.rankHeight:this.top,h=this.left;f.left=h;f.top=i}},true);e.mix(a.Foundation.Stack,{index:function(){return a.foundation.stacks.indexOf(this)},layout:function(g,f){var j=Math.sin(Math.PI*f/6)*c.Card.height*2.25,h=Math.cos(Math.PI*f/6)*c.Card.width*3;this.top=j+normalize(g.top);this.left=h+normalize(g.left)}},true)},"0.0.1",{requires:["solitaire"]});YUI.add("monte-carlo",function(c){var b=c.Solitaire,a=c.Solitaire.MonteCarlo=instance(b,{fields:["Foundation","Deck","Tableau"],createEvents:function(){b.createEvents.call(this);c.delegate("click",b.Events.clickEmptyDeck,b.selector,".stack");c.on("solitaire|endTurn",this.deckPlayable);c.on("solitaire|afterSetup",this.deckPlayable)},deckPlayable:function(){var e=false,d=Game.deck.stacks[0].node;Game.eachStack(function(f){if(!e&&c.Array.indexOf(f.cards,null)!==-1){e=true}},"tableau");if(e){d.addClass("playable")}else{d.removeClass("playable")}},deal:function(){var f,d,g,e=this.deck,h=this.tableau.stacks;for(d=0;d<5;d++){for(g=0;g<5;g++){f=e.pop().faceUp();h[d].push(f)}}e.createStack()},redeal:function(){var j=this.tableau.stacks,e=this.deck.stacks[0],k=c.Array.reduce(j,[],function(l,i){return l.concat(i.compact())}),d=k.length,f,h,g;c.Array.each(j,function(i){i.node.remove();i.cards=[];i.createNode()});for(g=h=0;g<d;g++){if(g&&!(g%5)){h++}j[h].push(k[g])}while(g<25&&e.cards.length){if(!(g%5)){h++}f=e.last().faceUp();f.moveTo(j[h]);f.node.setStyle("zIndex",100-g);g++}},height:function(){return this.Card.base.height*6},Stack:instance(b.Stack,{images:{deck:"freeslot.png"},updateDragGroups:function(){var d=b.activeCard;c.Array.each(this.cards,function(e){if(!e){return}if(d.validTarget(e)){e.node.drop.addToGroup("open")}else{e.node.drop.removeFromGroup("open")}})},index:function(){return 0}}),Events:instance(b.Events,{drop:function(h){var g=b.activeCard,d=b.game.foundation.stacks[0],f=h.drop.get("node").getData("target");if(!g){return}b.stationary(function(){f.moveTo(d);g.moveTo(d)});b.endTurn()}}),Foundation:{stackConfig:{total:1,layout:{spacing:0,top:0,left:function(){return b.Card.width*10.5}}},field:"foundation"},Deck:instance(b.Deck,{stackConfig:{total:1,layout:{spacing:0,top:0,left:function(){return b.Card.width*2}}},field:"deck",createStack:function(){var e,d;for(e=0,d=this.cards.length;e<d;e++){this.stacks[0].push(this.cards[e])}}}),Tableau:{stackConfig:{total:5,layout:{cardGap:1.25,vspacing:1.25,hspacing:0,top:0,left:function(){return b.Card.width*3.5}}},field:"tableau"},Card:instance(b.Card,{row:function(){return this.stack.index()},column:function(){return this.stack.cards.indexOf(this)},validTarget:function(d){if(!(this.rank===d.rank&&d.isFree())){return false}return Math.abs(d.row()-this.row())<=1&&Math.abs(d.column()-this.column())<=1},createProxyStack:function(){var d=null;if(this.isFree()){d=instance(this.stack);d.cards=this.proxyCards()}this.proxyStack=d;return this.proxyStack},proxyCards:function(){return[this]},isFree:function(){return this.stack.field==="tableau"},turnOver:function(){this.stack.field==="deck"&&b.game.redeal()}})});c.Array.each(a.fields,function(d){a[d].Stack=instance(a.Stack)});c.mix(a.Tableau.Stack,{deleteItem:function(d){var f=this.cards,e=f.indexOf(d);if(e!==-1){f[e]=null}},setCardPosition:function(d){var f=this.cards.last(),e=a.Tableau.stackConfig.layout,h=this.top,g=f?f.left+d.width*e.cardGap:this.left;d.left=g;d.top=h},compact:function(){var h=this.cards,e,g=[],f,d;for(f=0,d=h.length;f<d;f++){e=h[f];if(e){g.push(e);e.pushPosition()}}return g},index:function(){return b.game.tableau.stacks.indexOf(this)}},true);c.mix(a.Deck.Stack,{updateDragGroups:function(){var e=b.activeCard,d=this.last();if(!d){return}if(e.validTarget(d)){d.node.drop.addToGroup("open")}else{d.node.drop.removeFromGroup("open")}}},true)},"0.0.1",{requires:["solitaire","array-extras"]});YUI.add("pyramid",function(c){var a=c.Solitaire,b=c.Solitaire.Pyramid=instance(a,{fields:["Foundation","Deck","Waste","Tableau"],deal:function(){var f,d,g,e=this.deck,h=this.tableau.stacks;for(d=0;d<7;d++){for(g=0;g<=d;g++){f=e.pop().faceUp();h[d].push(f)}}e.createStack();e.last().faceUp()},turnOver:function(){var d=this.deck.stacks[0],e=this.waste.stacks[0];if(d.cards.length===1){return}d.last().moveTo(e)},height:function(){return this.Card.base.height*4.85},Stack:instance(a.Stack,{images:{},updateDragGroups:function(){var d=a.activeCard;c.Array.each(this.cards,function(e){if(!e){return}if(d.validTarget(e)){e.node.drop.addToGroup("open")}else{e.node.drop.removeFromGroup("open")}})}}),Events:instance(a.Events,{dragCheck:function(d){if(!a.game.autoPlay.call(this)){a.Events.dragCheck.call(this)}},drop:function(h){var g=a.activeCard,d=a.game.foundation.stacks[0],f=h.drop.get("node").getData("target");if(!g){return}a.stationary(function(){f.moveTo(d);g.moveTo(d)});a.endTurn()}}),Foundation:{stackConfig:{total:1,layout:{hspacing:0,top:0,left:function(){return a.Card.width*8}}},field:"foundation"},Deck:instance(a.Deck,{stackConfig:{total:1,layout:{hspacing:0,top:0,left:0}},field:"deck",createStack:function(){var e,d;for(e=0,d=this.cards.length;e<d;e++){this.stacks[0].push(this.cards[e])}}}),Waste:{stackConfig:{total:1,layout:{hspacing:0,top:0,left:function(){return a.Card.width*1.5}}},field:"waste"},Tableau:{stackConfig:{total:7,layout:{vspacing:0.6,hspacing:-0.625,cardGap:1.25,top:0,left:function(){return a.Card.width*5}}},field:"tableau"},Card:instance(a.Card,{validTarget:function(d){if(d.field==="foundation"){return this.isFree()&&this.rank===13}if(d.isFree()){return this.rank+d.rank===13}return false},createProxyNode:function(){return this.rank===13?"":a.Card.createProxyNode.call(this)},createProxyStack:function(){var d=null;if(this.isFree()){d=instance(this.stack);d.cards=this.proxyCards()}this.proxyStack=d;return this.proxyStack},proxyCards:function(){return[this]},isFree:function(){var d=this.stack,h=d.index(),f=d.cards.indexOf(this),e=a.game,g=d.next();if(d.field==="deck"||d.field==="waste"){return !this.isFaceDown}else{return !(this.stack.field==="foundation"||g&&(g.cards[f]||g.cards[f+1]))}},turnOver:function(){this.stack.field==="deck"&&!this.isFaceDown&&a.game.turnOver()}})});c.Array.each(b.fields,function(d){b[d].Stack=instance(b.Stack)});c.mix(b.Tableau.Stack,{deleteItem:function(d){var f=this.cards,e=f.indexOf(d);if(e!==-1){f[e]=null}},setCardPosition:function(d){var f=b.Tableau.stackConfig.layout,e=this.cards.last(),h=this.top,g=e?e.left+d.width*f.cardGap:this.left;d.left=g;d.top=h;d.zIndex=this.index()*10}},true);c.mix(b.Deck.Stack,{deleteItem:function(d){b.Stack.deleteItem.call(this,d);this.update()},update:function(d){var e=this.last();e&&e.faceUp(d)},updateDragGroups:function(){var e=a.activeCard,d=this.last();if(!d){return}if(e.validTarget(d)){d.node.drop.addToGroup("open")}else{d.node.drop.removeFromGroup("open")}}},true);b.Waste.Stack.updateDragGroups=b.Deck.Stack.updateDragGroups},"0.0.1",{requires:["solitaire"]});YUI.add("russian-solitaire",function(d){var b=d.Solitaire,c=b.Yukon,a=b.RussianSolitaire=instance(c,{Card:instance(c.Card)});a.Card.validTarget=function(e){var f=e.last();switch(e.field){case"tableau":if(!f){return this.rank===13}else{return !f.isFaceDown&&f.suit===this.suit&&f.rank===this.rank+1}case"foundation":if(!f){return this.rank===1}else{return f.suit===this.suit&&f.rank===this.rank-1}default:return false}}},"0.0.1",{requires:["yukon"]});YUI.add("scorpion",function(c){var b=c.Solitaire,a=b.Scorpion=instance(b,{fields:["Foundation","Deck","Tableau"],createEvents:function(){b.AutoStackClear.register();b.createEvents.call(this)},deal:function(){var f,d,h,e=this.deck,g=this.tableau.stacks;for(h=0;h<7;h++){for(d=0;d<7;d++){f=e.pop();if(!(h<3&&d<4)){f.faceUp()}g[d].push(f)}}e.createStack()},turnOver:function(){var e=this.deck.stacks[0],g=this.tableau.stacks,f,d;for(f=0;f<3;f++){e.last().faceUp().moveTo(g[f])}},height:function(){return this.Card.base.height*5.6},Stack:instance(b.Stack),Deck:instance(b.Deck,{stackConfig:{total:1,layout:{top:0,left:function(){return b.Card.width*9}},},field:"deck",createStack:function(){var e,d;for(e=this.cards.length-1;e>=0;e--){this.stacks[0].push(this.cards[e])}},}),Foundation:{stackConfig:{total:4,layout:{top:function(){return b.Card.height*1.1},left:function(){return b.Card.width*9},vspacing:1.1,}},field:"foundation"},Tableau:{stackConfig:{total:7,layout:{hspacing:1.25,top:0,left:0}},field:"tableau"},Card:instance(b.Card,{playable:function(){var d=this.stack.field;return d==="deck"||d==="tableau"&&!this.isFaceDown},validTarget:function(d){var e=d.last();if(d.field!=="tableau"){return false}if(!e){return this.rank===13}else{return !e.isFaceDown&&e.suit===this.suit&&e.rank===this.rank+1}}})});c.Array.each(a.fields,function(d){a[d].Stack=instance(a.Stack)});c.mix(a.Stack,{validTarget:function(d){return d.field==="tableau"&&this.first().validTarget(d)},validProxy:function(d){return true},validTarget:function(d){var g,f=this.cards,e;switch(d.field){case"tableau":return this.first().validTarget(d);break;case"foundation":g=this.last.rank;if(f.length!==13){return false}for(e=0;e<13;e++){if(f[e].rank!==g){return false}}return true;break}}},true);c.mix(a.Tableau.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.top+e.rankHeight:this.top,f=this.left;d.left=f;d.top=g}},true)},"0.0.1",{requires:["auto-stack-clear"]});YUI.add("spider",function(d){var b=d.Solitaire,c=b.Spider=instance(b,{fields:["Foundation","Deck","Tableau"],createEvents:function(){b.AutoStackClear.register();b.createEvents.call(this)},deal:function(){var e=0,f=this.deck,g=this.tableau.stacks,h;for(h=0;h<5;h++){for(e=0;e<10;e++){if(e<4||h<4){g[e].push(f.pop())}}}for(e=0;e<10;e++){g[e].push(f.pop().faceUp())}f.createStack()},redeal:function(){},turnOver:function(){var f=this.deck.stacks[0],g,e;if(a()){return}this.eachStack(function(h){var i=f.last();if(i){i.faceUp().moveTo(h).after(function(){this.stack.updateCardsPosition()})}},"tableau")},Stack:instance(b.Stack),Foundation:{stackConfig:{total:8,layout:{hspacing:1.25,top:0,left:function(){return b.Card.width*2.5}}},field:"foundation",draggable:false},Deck:instance(b.Deck,{count:2,stackConfig:{total:1,layout:{hspacing:0,top:0,left:0}},field:"deck"}),Tableau:{stackConfig:{total:10,layout:{hspacing:1.25,top:function(){return b.Card.height*1.5},left:0}},field:"tableau",},Card:instance(b.Card,{playable:function(){var e=this.stack[this.index-1];switch(this.stack.field){case"tableau":return this.createProxyStack();case"deck":return !a();case"foundation":return false}},validTarget:function(e){if(e.field!=="tableau"){return false}var f=e.last();return !f||!f.isFaceDown&&f.rank===this.rank+1}})});function a(){return d.Array.some(Game.tableau.stacks,function(e){return !e.cards.length})}d.Array.each(c.fields,function(e){c[e].Stack=instance(c.Stack)});d.mix(c.Stack,{validCard:function(e){return e.suit===this.cards.last().suit},validTarget:function(e){switch(e.field){case"tableau":return this.first().validTarget(e);break;case"foundation":return this.cards.length===13;break}}},true);d.mix(c.Tableau.Stack,{setCardPosition:function(e){var f=this.cards.last(),h=f?f.top+f.rankHeight:this.top,g=this.left;e.left=g;e.top=h}},true)},"0.0.1",{requires:["auto-stack-clear"]});YUI.add("spider1s",function(b){var a=b.Solitaire.Spider1S=instance(b.Solitaire.Spider);a.Deck=instance(b.Solitaire.Spider.Deck,{suits:["s"],count:8})},"0.0.1",{requires:["spider"]});YUI.add("spider2s",function(b){var a=b.Solitaire.Spider2S=instance(b.Solitaire.Spider);a.Deck=instance(b.Solitaire.Spider.Deck,{suits:["s","h"],count:4})},"0.0.1",{requires:["spider"]});YUI.add("spiderette",function(e){var b=e.Solitaire,a=b.Klondike,d=b.Spider,c=e.Solitaire.Spiderette=instance(d,{height:a.height,deal:a.deal,Tableau:instance(d.Tableau,{stackConfig:a.Tableau.stackConfig}),Foundation:instance(d.Foundation,{stackConfig:a.Foundation.stackConfig}),Deck:instance(d.Deck,{count:1})})},"0.0.1",{requires:["klondike","spider"]});YUI.add("tri-towers",function(b){var a=b.Solitaire,c=b.Solitaire.TriTowers=instance(a,{fields:["Deck","Foundation","Tableau"],width:function(){return this.Card.base.width*15},height:function(){return this.Card.base.height*5},createEvents:function(){b.on("solitaire|endTurn",function(){var d=a.game.tableau.stacks,e;for(e=0;e<3;e++){b.fire("tableau:afterPop",d[e])}});a.createEvents.call(this)},deal:function(){var g,d,j=this.tableau.stacks,e=this.deck,f=this.foundation.stacks[0],h,k;for(d=0;d<4;d++){k=(d+1)*3;for(h=0;h<k;h++){g=e.pop();j[d].push(g);d===3&&g.faceUp()}}g=e.pop().faceUp();f.push(g);e.createStack()},turnOver:function(){var d=this.deck.stacks[0],e=this.foundation.stacks[0],f=d.last();f&&f.faceUp().moveTo(e)},isWon:function(){var d=true;this.eachStack(function(e){e.eachCard(function(f){if(f){d=false}return d})},"tableau");return d},Deck:instance(a.Deck,{field:"deck",stackConfig:{total:1,layout:{hspacing:0,top:function(){return a.Card.height*4},left:0}},createStack:function(){var e,d;for(e=0,d=this.cards.length;e<d;e++){this.stacks[0].push(this.cards[e])}}}),Tableau:{field:"tableau",stackConfig:{total:4,layout:{rowGaps:[3.75,2.5,1.25,0],cardGap:1.25,vspacing:0.6,hspacing:-0.625,top:0,left:function(){return a.Card.width*1.875}}}},Foundation:{field:"foundation",stackConfig:{total:1,layout:{hspacing:0,top:function(){return a.Card.height*4},left:function(){return a.Card.width*4}}}},Events:instance(a.Events,{dragCheck:function(d){this.getCard().autoPlay();this._afterDragEnd();d.halt()}}),Card:instance(a.Card,{validTarget:function(d){if(d.field!=="foundation"){return false}var e=d.last(),f=Math.abs(this.rank-e.rank);return f===1||f===12},playable:function(){var d=this.stack;return(d.field==="deck"&&this===d.last())||(this.isFree()&&this.validTarget(Game.foundation.stacks[0]))},isFree:function(){var d=this.stack,g=d.next(),h=this.tower(),e=d.cards.indexOf(this),f;if(d.field!=="tableau"){return false}if(!g){return true}for(f=0;f<2;f++){if(g.cards[e+h+f]){return false}}return true},tower:function(){var d=this.stack,e=d.cards.indexOf(this),f=d.index()+1;return Math.floor(e/f)}}),Stack:instance(a.Stack,{images:{}})},true);b.Array.each(c.fields,function(d){c[d].Stack=instance(c.Stack)});b.mix(c.Tableau.Stack,{deleteItem:function(d){var f=this.cards,e=f.indexOf(d);if(e!==-1){f[e]=null}},setCardPosition:function(f){var l=this.last(),j=this.top,e,i,k,h=c.Tableau.stackConfig.layout,d=h.rowGaps,g=h.cardGap;if(l){e=l.left+f.width*g;i=this.cards.length;k=this.index()+1;if(!(i%k)){e+=d[k-1]*f.width}}else{e=this.left}f.top=j;f.left=e;f.zIndex=this.index()*10}},true);b.mix(c.Deck.Stack,{setCardPosition:function(d){var e=this.last(),g,f,h;g=this.top;if(e){f=e.left+d.width*0.1;h=e.zIndex+1}else{f=this.left;h=0}d.top=g;d.left=f;d.zIndex=h}},true)},"0.0.1",{requires:["solitaire"]});YUI.add("will-o-the-wisp",function(c){var b=c.Solitaire,a=c.Solitaire.WillOTheWisp=instance(b.Spiderette,{deal:function(){var d=this.deck,e;for(e=0;e<3;e++){this.eachStack(function(f){var g=d.pop();if(e===2){g.faceUp()}f.push(g)},"tableau")}d.createStack()}})},"0.0.1",{requires:["spiderette"]});YUI.add("yukon",function(c){var a=c.Solitaire,b=a.Yukon=instance(a,{fields:["Foundation","Tableau"],deal:function(){var g,e=6,d=0,f=this.deck,h=this.tableau.stacks;while(e>=0){g=f.pop().faceUp();h[6-e].push(g);for(d=7-e;d<7;d++){g=f.pop();h[d].push(g)}e--}d=1;while(f.cards.length){g=f.pop().faceUp();h[d].push(g);d=(d%6)+1}},height:function(){return this.Card.base.height*4.8},Stack:instance(a.Stack),Foundation:{stackConfig:{total:4,layout:{vspacing:1.25,top:0,left:function(){return a.Card.width*9}}},field:"foundation",draggable:false},Tableau:{stackConfig:{total:7,layout:{hspacing:1.25,top:0,left:0}},field:"tableau",draggable:true},Card:instance(a.Card,{playable:function(){return this.stack.field==="tableau"&&!this.isFaceDown},validTarget:function(d){var e=d.last();switch(d.field){case"tableau":if(!e){return this.rank===13}else{return !e.isFaceDown&&e.color!==this.color&&e.rank===this.rank+1}break;case"foundation":if(!e){return this.rank===1}else{return e.suit===this.suit&&e.rank===this.rank-1}break;default:return false}}})});c.Array.each(b.fields,function(d){b[d].Stack=instance(b.Stack)});c.mix(b.Stack,{validTarget:function(d){return d.field==="tableau"&&this.first().validTarget(d)},validProxy:function(d){return true}},true);c.mix(b.Tableau.Stack,{setCardPosition:function(d){var e=this.cards.last(),g=e?e.top+e.rankHeight:this.top,f=this.left;d.left=f;d.top=g}},true)},"0.0.1",{requires:["solitaire"]});(function(){var f={name:"klondike",game:null},m=YUI({base:"js/yui-unpack/yui/build/"}),a,d={agnes:"Agnes",klondike:"Klondike",klondike1t:"Klondike1T","flower-garden":"FlowerGarden","forty-thieves":"FortyThieves",freecell:"Freecell",golf:"Golf","grandfathers-clock":"GClock","monte-carlo":"MonteCarlo",pyramid:"Pyramid","russian-solitaire":"RussianSolitaire",scorpion:"Scorpion",spider:"Spider",spider1s:"Spider1S",spider2s:"Spider2S",spiderette:"Spiderette","tri-towers":"TriTowers","will-o-the-wisp":"WillOTheWisp",yukon:"Yukon"},v=["auto-turnover","statistics","solver-freecell","solitaire-autoplay","solitaire-ios","solitaire-background-fix"],x=(function(){var C=null,z,B={position:"absolute",display:"none",backgroundColor:"#000",opacity:0.7,top:0,left:0,width:0,height:0,zIndex:1000,},A=function(){if(C===null){C=a.Node.create("<div>");C.setStyles(B);z=a.one("body").append(C)}return C};return{show:function(){var D=A();B.display="block";B.width=D.get("winWidth");B.height=D.get("winHeight");D.setStyles(B)},hide:function(){B.display="none";A().setStyles(B)}}}()),y={selected:null,fade:false,init:function(){this.refit()},refit:function(){var A=a.one("#game-chooser"),z=A.get("winHeight");A.setStyle("min-height",z)},show:function(z){if(!this.selected){this.select(f.name)}if(z){x.show();this.fade=true}a.one("#game-chooser").addClass("show");a.one("body").addClass("scrollable")},hide:function(){if(this.fade){x.hide()}a.one("#game-chooser").removeClass("show");a.fire("gamechooser:hide",this);a.one("body").removeClass("scrollable")},choose:function(){if(!this.selected){return}this.hide();c(this.selected)},select:function(z){var B=a.one("#"+z+"> div"),A=this.selected;if(A!==z){this.unSelect()}if(B){this.selected=z;new a.Node(document.getElementById(z)).addClass("selected")}if(A&&A!==z){a.fire("gamechooser:select",this)}},unSelect:function(){if(!this.selected){return}new a.Node(document.getElementById(this.selected)).removeClass("selected");this.selected=null}},n={dondorf:{sizes:[61,79,95,122],61:{hiddenRankHeight:7,rankHeight:25,dimensions:[61,95]},79:{hiddenRankHeight:10,rankHeight:32,dimensions:[79,123]},95:{hiddenRankHeight:12,rankHeight:38,dimensions:[95,148]},122:{hiddenRankHeight:15,rankHeight:48,dimensions:[122,190]}},snapToSize:function(z){var B,A=B.sizes;z=clamp(z,A[0],A[A.length-1])>>>0;while(a.Array.indexOf(A,z)===-1){z++}return z},load:function(z){var A=a.Solitaire,B=A.Card.base;if(!(z in this)){z="dondorf"}if(B.theme!==z){this.set(z,122)}},set:function(z,A){var B=this[z][A];a.mix(a.Solitaire.Card.base,{theme:z+"/"+A,hiddenRankHeight:B.hiddenRankHeight,rankHeight:B.rankHeight,width:B.dimensions[0],height:B.dimensions[1]},true)}};function u(){var A=v.slice(),z;for(z in d){if(d.hasOwnProperty(z)){A.unshift(z)}}return A}function e(z){a=z;b();a.on("domready",i)}function j(){y.select(this._node.id);y.choose()}function q(){a.on("click",p,a.one("#restart"));a.on("click",function(){y.show(false)},a.one("#choose_game"));a.on("click",function(){f.game.undo()},a.one("#undo"));a.on("click",h,a.one("#new_deal"));a.on("click",r,a.one(".chromestore"));a.delegate("click",j,"#descriptions","li");a.on("click",function(){y.hide()},a.one("#close-chooser"));a.one("document").on("keydown",function(z){z.keyCode===27&&y.hide()});a.on("afterSetup",function(){f.game.stationary(function(){w()})});o()}function o(){var B,z=250,A;if(window.addEventListener){A="addEventListener"}else{if(window.attachEvent){A="attachEvent"}}window[A](a.Solitaire.Application.resizeEvent,function(){clearTimeout(B);B=setTimeout(w,z)},false)}function w(){var A=f.game,D=A.container(),E=a.Solitaire.padding,F=a.Solitaire.offset,C=D.get("winWidth")-E.x,z=D.get("winHeight")-E.y,B=1;a.Solitaire.Application.windowHeight=z;B=Math.min((C-F.left)/A.width(),(z-F.top)/A.height());f.game.resize(B);y.refit()}function c(z){var A=1000*3600*24*14;f.name=z;f.game=a.Solitaire[d[z]];a.Cookie.set("options",z,{expires:new Date(new Date().getTime()+A)});h()}function k(){var z=a.Cookie.get("options");z&&(f.name=z);n.load("dondorf")}function i(){var z=a.Cookie.get("saved-game");q();k();t.preload();t.loaded(function(){g();if(z){l();f.game=a.Solitaire[d[f.name]];f.game.loadGame(z)}else{c(f.name)}});y.init()}function l(){a.all(".stack, .card").remove()}function p(){var A=a.Cookie.get("initial-game"),z=f.game;if(A){l();z.cleanup();z.loadGame(A);z.save()}}function h(){var z=f.game;l();z.cleanup();z.newGame()}function b(){a.Solitaire.Application={windowHeight:0,resizeEvent:"resize",GameChooser:y,newGame:h}}function r(){var z=1000*3600*24*365;a.one(".chromestore").addClass("hidden");a.Cookie.set("disable-chromestore-link",true,{expires:new Date(new Date().getTime()+z)})}function g(){if(a.UA.chrome&&!a.Cookie.get("disable-chromestore-link",Boolean)){a.one(".chromestore").removeClass("hidden")}}var t={loadingCount:0,loaded:function(z){if(this.loadingCount){setTimeout(function(){this.loaded(z)}.bind(this),100)}else{a.one(".loading").addClass("hidden");z();x.hide()}},load:function(A){var z=new Image;z.onload=function(){--this.loadingCount}.bind(this);z.src=A;this.loadingCount++},preload:function(){var A,z=["agnes","flower-garden","forty-thieves","freecell","gclock","golf","klondike1t","klondike","montecarlo","pyramid","scorpion","spider1s","spider2s","spiderette","spider","tritowers","will-o-the-wisp","yukon"];a.Array.each(["s","h","c","d"],function(B){for(A=1;A<=13;A++){this.load(a.Solitaire.Card.base.theme+"/"+B+A+".png")}},this);this.load(a.Solitaire.Card.base.theme+"/facedown.png");a.Array.each(z,function(B){this.load("layouts/mini/"+B+".png")},this);x.show();a.one(".loading").removeClass("hidden")}};m.use.apply(m,u().concat(e))}());